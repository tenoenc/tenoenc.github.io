---
layout: post
title: "[JVM Internal] JVM Memory Layout"
date: 2026-01-14 09:34 +0900
math: true
categories:
- Java Ecosystem
- JVM Internal
tags:
- JVM
- JVM Memory Layout
- JVM Runtime Data Area
image:
    path: /assets/img/2026-01-14-16-45-37.png
---

ÏûêÎ∞î Í∞úÎ∞úÏûêÍ∞Ä `new` ÌÇ§ÏõåÎìúÎ•º Ìò∏Ï∂úÌïòÎäî ÏàúÍ∞Ñ, Ï∂îÏÉÅÏ†ÅÏù∏ ÏÜåÏä§ ÏΩîÎìúÎäî Ïö¥ÏòÅÏ≤¥Ï†úÍ∞Ä Í¥ÄÎ¶¨ÌïòÎäî Î¨ºÎ¶¨Ï†ÅÏù∏ Î©îÎ™®Î¶¨ ÏòÅÏó≠ÏúºÎ°ú ÌïòÍ∞ïÌï©ÎãàÎã§. Ïö∞Î¶¨Îäî ÌùîÌûà Í∞ùÏ≤¥Î•º 'Îç∞Ïù¥ÌÑ∞ÏôÄ ÌñâÏúÑÏùò ÏßëÌï©'ÏúºÎ°ú Ï†ïÏùòÌïòÏßÄÎßå, JVM Ïã§Ìñâ ÏóîÏßÑÏùò Í¥ÄÏ†êÏóêÏÑú Í∞ùÏ≤¥Îäî Ï≤†Ï†ÄÌïòÍ≤å Í≥ÑÏÇ∞Îêú **Î∞îÏù¥Ìä∏Ïùò Ïó∞ÏÜç(Sequence of Bytes)**Ïùº ÎøêÏûÖÎãàÎã§. 

ÏûêÎ∞îÍ∞Ä Í≥†ÏÑ±Îä• ÏãúÏä§ÌÖú Ïñ∏Ïñ¥Ïù∏ C++Î°ú ÏûëÏÑ±Îêú HotSpot JVM ÏúÑÏóêÏÑú ÎèåÏïÑÍ∞ÑÎã§Îäî Ï†êÏùÑ ÏÉÅÍ∏∞Ìï¥ Î≥¥Ïã≠ÏãúÏò§. JVMÏùÄ Í∞ÄÎπÑÏßÄ Ïª¨Î†âÏÖòÏùò Ìö®Ïú®ÏÑ±ÏùÑ ÎÜíÏù¥Í≥†, Î©ÄÌã∞Ïä§Î†àÎìú ÌôòÍ≤ΩÏóêÏÑú ÎùΩ(Lock) Í≤ΩÌï©ÏùÑ ÏµúÏÜåÌôîÌïòÎ©∞, CPU Ï∫êÏãú ÎùºÏù∏ÏùÑ ÏµúÏ†ÅÏúºÎ°ú ÌôúÏö©ÌïòÍ∏∞ ÏúÑÌï¥ Í∞ùÏ≤¥Ïùò Î†àÏù¥ÏïÑÏõÉÏùÑ Î∞îÏù¥Ìä∏ Îã®ÏúÑÎ°ú Ï†ïÎ∞ÄÌïòÍ≤å ÏÑ§Í≥ÑÌñàÏäµÎãàÎã§. Ïù¥ ÏÑ§Í≥ÑÏùò Ï†ïÏàòÍ∞Ä Î∞îÎ°ú Î™®Îì† Í∞ùÏ≤¥Ïùò ÏµúÏÉÅÎã®Ïóê ÏúÑÏπòÌïòÎäî 'Ìó§Îçî'ÏôÄ, Îç∞Ïù¥ÌÑ∞Î•º Ï†ïÎ†¨ÌïòÎäî 'Ìå®Îî©' Î©îÏª§ÎãàÏ¶òÏûÖÎãàÎã§. Ïù¥Ï†ú Ïö∞Î¶¨Îäî Ï∂îÏÉÅÌôîÏùò Î≤†ÏùºÏùÑ Î≤óÍ∏∞Í≥†, Î©îÎ™®Î¶¨ Îç§ÌîÑ ÏÜçÏóê Ïà®Í≤®ÏßÑ 0Í≥º 1Ïùò Í∑úÏπôÏùÑ Ï∂îÏ†ÅÌï† Í≤ÉÏûÖÎãàÎã§.

## üß© Object Header

JVM Î©îÎ™®Î¶¨ ÏÑ∏ÏÉÅÏóêÏÑú Î™®Îì† Í∞ùÏ≤¥ Ïù∏Ïä§ÌÑ¥Ïä§Îäî ÏòàÏô∏ ÏóÜÏù¥ ÏûêÏã†ÎßåÏùò 'Ïã†Î∂ÑÏ¶ù'ÏùÑ Î®∏Î¶¨Ïóê Ïù¥Í≥† ÌÉúÏñ¥ÎÇ©ÎãàÎã§. Ïù¥Î•º **Object Header**ÎùºÍ≥† Î∂ÄÎ¶ÖÎãàÎã§. 64ÎπÑÌä∏ HotSpot JVM ÌôòÍ≤ΩÏóêÏÑú Ïù¥ Ìó§ÎçîÎäî ÏùºÎ∞òÏ†ÅÏúºÎ°ú 12Î∞îÏù¥Ìä∏ÏóêÏÑú 16Î∞îÏù¥Ìä∏Î•º Ï∞®ÏßÄÌïòÎ©∞, Í∞ùÏ≤¥Ïùò ÏÉÅÌÉúÎ•º Ï¶ùÎ™ÖÌïòÎäî Îëê Í∞ÄÏßÄ ÌïµÏã¨ ÏöîÏÜåÎ°ú Íµ¨ÏÑ±Îê©ÎãàÎã§.

### Mark Word

Mark WordÎäî Í∞ùÏ≤¥Ïùò ÏÉùÏï† Ï£ºÍ∏∞ ÎèôÏïà Î≥ÄÌïòÎäî ÎèôÏ†ÅÏù∏ ÏÉÅÌÉúÎ•º Í∏∞Î°ùÌïòÎäî 8Î∞îÏù¥Ìä∏(64ÎπÑÌä∏) Í≥µÍ∞ÑÏûÖÎãàÎã§. JVM ÏóîÏßÄÎãàÏñ¥Îì§ÏùÄ Ïù¥ ÌïúÏ†ïÎêú Í≥µÍ∞ÑÏùÑ Í∑πÌïúÏúºÎ°ú ÌôúÏö©ÌïòÍ∏∞ ÏúÑÌï¥ ÎπÑÌä∏ ÎßàÏä§ÌÇπ Í∏∞Î≤ïÏùÑ ÎèôÏõêÌñàÏäµÎãàÎã§. 

Mark WordÏóêÎäî ÌÅ¨Í≤å ÎÑ§ Í∞ÄÏßÄ Ï†ïÎ≥¥Í∞Ä Îã¥ÍπÅÎãàÎã§.
1. **Identity HashCode**: Í∞ùÏ≤¥Ïùò Í≥†Ïú† Ìï¥ÏãúÍ∞í. `System.identityHashCode()` Ìò∏Ï∂ú Ïãú ÏÉùÏÑ±ÎêòÏñ¥ Í∏∞Î°ùÎê©ÎãàÎã§.
2. **GC Age**: Í∞ÄÎπÑÏßÄ Ïª¨Î†âÏÖòÏùò ÏÑúÎ∞îÏù¥Î≤Ñ ÏòÅÏó≠ÏóêÏÑú ÏÇ¥ÏïÑÎÇ®ÏùÄ ÌöüÏàò(ÏµúÎåÄ 15).
3. **Lock Information**: ÌòÑÏû¨ Ïù¥ Í∞ùÏ≤¥Î•º Ïñ¥Îñ§ Ïä§Î†àÎìúÍ∞Ä Ï†êÏú†ÌïòÍ≥† ÏûàÎäîÏßÄ, Ïñ¥Îñ§ ÏàòÏ§ÄÏùò ÎùΩ(Biased, Lightweight, Heavyweight)Ïù¥ Í±∏Î†§ ÏûàÎäîÏßÄÎ•º ÎÇòÌÉÄÎÇ¥Îäî ÎπÑÌä∏ Ìå®ÌÑ¥.
4. **Epoch**: Ìé∏Ìñ• ÎùΩ(Biased Locking)Ïùò Ïú†Ìö®ÏÑ±ÏùÑ Í≤ÄÏ¶ùÌïòÍ∏∞ ÏúÑÌïú ÌÉÄÏûÑÏä§ÌÉ¨ÌîÑ.

> **Ìï¥ÏãúÏΩîÎìú ÏÉùÏÑ±Ïùò Ìä∏Î†àÏù¥ÎìúÏò§ÌîÑ**
> 
> Í∞ùÏ≤¥Í∞Ä ÏÉùÏÑ±ÎêòÏûêÎßàÏûê Ìï¥ÏãúÏΩîÎìúÍ∞Ä Mark WordÏóê Í∏∞Î°ùÎêòÎäî Í≤ÉÏùÄ ÏïÑÎãôÎãàÎã§. Ïã§Ï†ú Ìò∏Ï∂úÏù¥ Î∞úÏÉùÌïòÎäî ÏàúÍ∞ÑÏóêÎßå Í≥ÑÏÇ∞ÎêòÏñ¥ Í∏∞Î°ùÎêòÎäîÎç∞, ÎßåÏïΩ Í∞ùÏ≤¥Í∞Ä ÎùΩÏù¥ Í±∏Î¶∞ ÏÉÅÌÉúÏóêÏÑú Ìï¥ÏãúÏΩîÎìú Ìò∏Ï∂úÏù¥ Î∞úÏÉùÌïòÎ©¥ JVMÏùÄ Îçî Î≥µÏû°Ìïú Î∞©ÏãùÏúºÎ°ú ÏÉÅÌÉúÎ•º Í¥ÄÎ¶¨Ìï¥Ïïº ÌïòÎØÄÎ°ú ÏÑ±Îä•Ïóê ÎØ∏ÏÑ∏Ìïú ÏòÅÌñ•ÏùÑ Ï§Ñ Ïàò ÏûàÏäµÎãàÎã§.
{: .prompt-warning }

![](/assets/img/2026-01-14-16-17-56.png)

### Klass Word

Mark WordÍ∞Ä 'Ïù¥ Í∞ùÏ≤¥Í∞Ä ÌòÑÏû¨ Ïñ¥Îñ§ ÏÉÅÌÉúÏù∏Í∞Ä'Î•º ÎßêÌï¥Ï§ÄÎã§Î©¥, **Klass Word**Îäî 'Ïù¥ Í∞ùÏ≤¥Îäî Î¨¥ÏóáÏù∏Í∞Ä'Î•º ÎßêÌï¥Ï§çÎãàÎã§. Ïù¥Îäî Ìï¥Îãπ Ïù∏Ïä§ÌÑ¥Ïä§Ïùò ÏÑ§Í≥ÑÎèÑÏù∏ `Klass` Íµ¨Ï°∞Ï≤¥(MetaspaceÏóê ÏúÑÏπò)Î•º Í∞ÄÎ¶¨ÌÇ§Îäî C++ Ìè¨Ïù∏ÌÑ∞ÏûÖÎãàÎã§.

JVMÏùÄ Ïù¥ Ìè¨Ïù∏ÌÑ∞Î•º ÌÜµÌï¥ Îü∞ÌÉÄÏûÑÏóê Í∞ùÏ≤¥Ïùò ÌÉÄÏûÖÏùÑ ÌôïÏù∏ÌïòÍ≥†, Í∞ÄÏÉÅ Î©îÏÑúÎìú ÌÖåÏù¥Î∏î(VTable)Ïóê Ï†ëÍ∑ºÌïòÏó¨ Îã§ÌòïÏÑ±ÏùÑ Íµ¨ÌòÑÌï©ÎãàÎã§. Ïó¨Í∏∞ÏÑú Ï£ºÎ™©Ìï† Ï†êÏùÄ **Compressed OOPs** Í∏∞Ïà†ÏûÖÎãàÎã§. 64ÎπÑÌä∏ ÌôòÍ≤ΩÏóêÏÑú Ìè¨Ïù∏ÌÑ∞Îäî ÏõêÎûò 8Î∞îÏù¥Ìä∏Ïó¨Ïïº ÌïòÏßÄÎßå, JVMÏùÄ 32GB Ïù¥ÌïòÏùò Ìûô Î©îÎ™®Î¶¨ ÌôòÍ≤ΩÏóêÏÑú Ïù¥ Ìè¨Ïù∏ÌÑ∞Î•º 4Î∞îÏù¥Ìä∏Î°ú ÏïïÏ∂ïÌïòÏó¨ Ï†ÄÏû•Ìï©ÎãàÎã§. Ïù¥Î•º ÌÜµÌï¥ Ìó§Îçî ÌÅ¨Í∏∞Î•º 16Î∞îÏù¥Ìä∏ÏóêÏÑú 12Î∞îÏù¥Ìä∏Î°ú Ï§ÑÏó¨ Î©îÎ™®Î¶¨ Ìö®Ïú®ÏùÑ Í∑πÎåÄÌôîÌï©ÎãàÎã§.

![](/assets/img/2026-01-14-16-18-02.png)

### Array Length

ÏûêÎ∞îÏùò Î∞∞Ïó¥(Array)ÎèÑ Í∞ùÏ≤¥Ïù¥ÏßÄÎßå, ÏùºÎ∞ò Í∞ùÏ≤¥ÏôÄ Í≤∞Ï†ïÏ†ÅÏù∏ Ï∞®Ïù¥Í∞Ä ÏûàÏäµÎãàÎã§. Î∞îÎ°ú 'Í∏∏Ïù¥' Ï†ïÎ≥¥ÏûÖÎãàÎã§. ÏùºÎ∞ò Í∞ùÏ≤¥Îäî ÌÅ¥ÎûòÏä§ ÏÑ§Í≥ÑÎèÑÏóê ÌïÑÎìú Íµ¨ÏÑ±Ïù¥ Í≥†Ï†ïÎêòÏñ¥ ÏûàÏßÄÎßå, Î∞∞Ïó¥ÏùÄ ÏÉùÏÑ± ÏãúÏ†êÏóê Í∏∏Ïù¥Í∞Ä Í≤∞Ï†ïÎêòÎØÄÎ°ú Ïù¥Î•º Î≥ÑÎèÑÎ°ú Ï†ÄÏû•Ìï¥Ïïº Ìï©ÎãàÎã§. Îî∞ÎùºÏÑú Î∞∞Ïó¥ Ïù∏Ïä§ÌÑ¥Ïä§Ïùò Ìó§ÎçîÏóêÎäî Mark WordÏôÄ Klass Word Îí§Ïóê **4Î∞îÏù¥Ìä∏Ïùò Array Length** ÌïÑÎìúÍ∞Ä Ï∂îÍ∞ÄÎ°ú Î∂ôÏäµÎãàÎã§. Í≤∞Í≥ºÏ†ÅÏúºÎ°ú Î∞∞Ïó¥Ïùò Ìó§ÎçîÎäî ÏùºÎ∞ò Í∞ùÏ≤¥Î≥¥Îã§ 4Î∞îÏù¥Ìä∏ Îçî ÌÅ∞ Íµ¨Ï°∞Î•º Í∞ñÍ≤å Îê©ÎãàÎã§.

![](/assets/img/2026-01-14-16-18-09.png)

```java
import org.openjdk.jol.info.ClassLayout;

/**
 * JVM Í∞ùÏ≤¥ Î†àÏù¥ÏïÑÏõÉ Î∞è ÎùΩ ÏÉÅÌÉú Î≥ÄÌôî Í¥ÄÏ∞∞
 */
public class ObjectLayoutAnalysis {

    public static void main(String[] args) {
        // 1. ÏùºÎ∞ò Í∞ùÏ≤¥(Object)Ïùò Ìó§Îçî Íµ¨Ï°∞ Î∂ÑÏÑù (Mark Word + Klass Word)
        Object plainObject = new Object();
        System.out.println("=== 1. ÏùºÎ∞ò Í∞ùÏ≤¥Ïùò Î†àÏù¥ÏïÑÏõÉ (12-16 Î∞îÏù¥Ìä∏) ===");
        System.out.println(ClassLayout.parseInstance(plainObject).toPrintable());

        // 2. Î∞∞Ïó¥ Í∞ùÏ≤¥Ïùò Ìó§Îçî ÌôïÏû• (Array Length ÌïÑÎìú Ï∂îÍ∞Ä)
        int[] intArray = new int[0];
        System.out.println("=== 2. Î∞∞Ïó¥ Í∞ùÏ≤¥Ïùò Î†àÏù¥ÏïÑÏõÉ (Array Length Ìè¨Ìï®) ===");
        System.out.println(ClassLayout.parseInstance(intArray).toPrintable());

        // 3. Mark WordÏùò ÎèôÏ†Å Î≥ÄÌôî Í¥ÄÏ∞∞
        Object lockObject = new Object();

        // [ÏÉÅÌÉú A] Ï¥àÍ∏∞ ÏÉÅÌÉú (Unlocked)
        System.out.println("=== 3-A. Ï¥àÍ∏∞ ÏÉÅÌÉúÏùò Mark Word ===");
        System.out.println(ClassLayout.parseInstance(lockObject).toPrintable());

        // [ÏÉÅÌÉú B] Identity HashCode ÏÉùÏÑ± (Mark WordÏóê Ìï¥ÏãúÏΩîÎìú Í∏∞Î°ù)
        lockObject.hashCode();
        System.out.println("=== 3-B. hashCode() Ìò∏Ï∂ú ÌõÑ (ÎπÑÌä∏ Ìå®ÌÑ¥ Î≥ÄÌôî) ===");
        System.out.println(ClassLayout.parseInstance(lockObject).toPrintable());

        // [ÏÉÅÌÉú C] ÎùΩ Í≤ΩÌï© Î∞úÏÉù (Lock Information Í∏∞Î°ù)
        synchronized (lockObject) {
            System.out.println("=== 3-C. synchronized Î∏îÎ°ù ÎÇ¥Î∂Ä (Lock ÏÉÅÌÉú) ===");
            System.out.println(ClassLayout.parseInstance(lockObject).toPrintable());
        }
    }
}
```

## üß© Field Layout

Í∞ùÏ≤¥Ïùò Ìó§ÎçîÍ∞Ä Ïã†Î∂ÑÏ¶ùÏù¥ÎùºÎ©¥, ÌïÑÎìú Î†àÏù¥ÏïÑÏõÉÏùÄ Í∑∏ Ïã†Î∂ÑÏ¶ù Îí§Ïóê Î∂ôÎäî Ïã§Ï†ú Îç∞Ïù¥ÌÑ∞ Î≥∏Î¨∏ÏûÖÎãàÎã§. ÌïòÏßÄÎßå JVMÏùÄ Ïù¥ Îç∞Ïù¥ÌÑ∞Î•º Îã®ÏàúÌûà ÏÑ†Ïñ∏Îêú ÏàúÏÑúÎåÄÎ°ú ÎÇòÏó¥ÌïòÏßÄ ÏïäÏäµÎãàÎã§. Ïó¨Í∏∞ÏóêÎäî **'Î©îÎ™®Î¶¨ Ï†ïÎ†¨(Alignment)'**Í≥º **'Í≥µÍ∞Ñ Î∞ÄÎèÑ(Density)'**ÎùºÎäî Îëê ÎßàÎ¶¨ ÌÜ†ÎÅºÎ•º Ïû°Í∏∞ ÏúÑÌïú Í≥†ÎèÑÏùò ÏµúÏ†ÅÌôî ÏïåÍ≥†Î¶¨Ï¶òÏù¥ Í∞úÏûÖÌï©ÎãàÎã§.

### Primitive Types

ÏûêÎ∞îÏùò Í∏∞Î≥∏Ìòï ÌÉÄÏûÖÎì§ÏùÄ Î©îÎ™®Î¶¨ ÏúÑÏóêÏÑú Ï†ÄÎßàÎã§Ïùò ÌôïÍ≥†Ìïú ÏòÅÌÜ†Î•º Í∞ÄÏßëÎãàÎã§. `boolean`Í≥º `byte`Îäî 1Î∞îÏù¥Ìä∏, `char`ÏôÄ `short`Îäî 2Î∞îÏù¥Ìä∏, `int`ÏôÄ `float`Îäî 4Î∞îÏù¥Ìä∏, Í∑∏Î¶¨Í≥† `long`Í≥º `double`ÏùÄ 8Î∞îÏù¥Ìä∏Î•º Ï†êÏú†Ìï©ÎãàÎã§. Í∞ùÏ≤¥ Ï∞∏Ï°∞ Î≥ÄÏàò(Reference)Ïùò Í≤ΩÏö∞, ÏïûÏÑú Ïñ∏Í∏âÌïú Compressed OOPs Ï†ÅÏö© Ïó¨Î∂ÄÏóê Îî∞Îùº 4Î∞îÏù¥Ìä∏ ÎòêÎäî 8Î∞îÏù¥Ìä∏Í∞Ä Ìï†ÎãπÎê©ÎãàÎã§.

Ïù¥Îïå Ï§ëÏöîÌïú Í∞úÎÖêÏù¥ **Ïò§ÌîÑÏÖã(Offset)**ÏûÖÎãàÎã§. Ïò§ÌîÑÏÖãÏùÄ Í∞ùÏ≤¥Ïùò ÏãúÏûë ÏßÄÏ†ê(Ìó§ÎçîÏùò 0Î≤à Î∞îÏù¥Ìä∏)ÏúºÎ°úÎ∂ÄÌÑ∞ ÌäπÏ†ï ÌïÑÎìúÍ∞Ä ÏúÑÏπòÌïú ÏßÄÏ†êÍπåÏßÄÏùò Í±∞Î¶¨Î•º ÏùòÎØ∏Ìï©ÎãàÎã§. JVMÏùÄ Ïã§Ìñâ Ìö®Ïú®ÏùÑ ÏúÑÌï¥ Ïù¥ Ïò§ÌîÑÏÖãÏùÑ ÌäπÏ†ï Î∞∞Ïàò Îã®ÏúÑÎ°ú ÎßûÏ∂îÎ†§Îäî Í∞ïÎ∞ïÏùÑ Í∞ÄÏßÄÍ≥† ÏûàÏäµÎãàÎã§.

### Field Reordering

Í∞úÎ∞úÏûêÍ∞Ä ÌÅ¥ÎûòÏä§Ïóê ÌïÑÎìúÎ•º `byte`, `long`, `int` ÏàúÏúºÎ°ú ÏÑ†Ïñ∏ÌñàÎã§Í≥† Í∞ÄÏ†ïÌï¥ Î¥ÖÏãúÎã§. ÎßåÏïΩ Ïù¥ ÏàúÏÑú Í∑∏ÎåÄÎ°ú Î©îÎ™®Î¶¨Ïóê Î∞∞ÏπòÌïúÎã§Î©¥, `byte` Îí§Ïóê 8Î∞îÏù¥Ìä∏Ïù∏ `long`ÏùÑ ÎßûÏ∂îÍ∏∞ ÏúÑÌï¥ Î¨¥ÏùòÎØ∏Ìïú Îπà Í≥µÍ∞Ñ(Padding)Ïù¥ ÎåÄÎüâÏúºÎ°ú Î∞úÏÉùÌïòÍ≤å Îê©ÎãàÎã§. 

JVMÏùÄ Ïù¥Î•º Î∞©ÏßÄÌïòÍ∏∞ ÏúÑÌï¥ ÌïÑÎìú ÏÑ†Ïñ∏ ÏàúÏÑúÎ•º Î¨¥ÏãúÌïòÍ≥† **'ÌÅ¨Í∏∞ Ïàú Ïû¨Î∞∞Ïπò'** Ï†ÑÎûµÏùÑ Ï∑®Ìï©ÎãàÎã§. ÏùºÎ∞òÏ†ÅÏúºÎ°ú `long/double` -> `int/float` -> `short/char` -> `byte/boolean` -> `references` ÏàúÏúºÎ°ú Î™®ÏïÑÏÑú Î∞∞ÏπòÌï®ÏúºÎ°úÏç®, ÌïÑÎìú ÏÇ¨Ïù¥ÏÇ¨Ïù¥Ïóê ÎÅºÏñ¥ÎìúÎäî Ìå®Îî©ÏùÑ ÏµúÏÜåÌôîÌïòÎäî 'Î∞îÏù¥ÎÑàÎ¶¨ ÌÖåÌä∏Î¶¨Ïä§'Î•º ÏàòÌñâÌï©ÎãàÎã§.

![](/assets/img/2026-01-14-16-18-28.png)

### Alignment Padding

Ïôú JVMÏùÄ Íµ≥Ïù¥ Î≥µÏû°Ìïú Í≥ÑÏÇ∞ÏùÑ Í±∞Ï≥ê Îç∞Ïù¥ÌÑ∞Î•º Ï†ïÎ†¨Ìï†ÍπåÏöî? Ïù¥Îäî ÌòÑÎåÄ CPUÏùò Î©îÎ™®Î¶¨ ÏùΩÍ∏∞ Î©îÏª§ÎãàÏ¶ò ÎïåÎ¨∏ÏûÖÎãàÎã§. 64ÎπÑÌä∏ CPUÎäî Î©îÎ™®Î¶¨ÏóêÏÑú Îç∞Ïù¥ÌÑ∞Î•º ÏùΩÏñ¥Ïò¨ Îïå 8Î∞îÏù¥Ìä∏(64ÎπÑÌä∏) Îã®ÏúÑÎ°ú ÏùΩÎäî Í≤ÉÏù¥ Í∞ÄÏû• Îπ†Î¶ÖÎãàÎã§. ÎßåÏïΩ 8Î∞îÏù¥Ìä∏ ÌÅ¨Í∏∞Ïùò `long` Îç∞Ïù¥ÌÑ∞Í∞Ä 4Î≤à Î∞îÏù¥Ìä∏Î∂ÄÌÑ∞ 12Î≤à Î∞îÏù¥Ìä∏Ïóê Í±∏Ï≥ê ÏûàÎã§Î©¥, CPUÎäî Ïù¥ Îç∞Ïù¥ÌÑ∞Î•º ÏùΩÍ∏∞ ÏúÑÌï¥ Î©îÎ™®Î¶¨Ïóê Îëê Î≤à Ï†ëÍ∑ºÌï¥Ïïº ÌïòÎäî ÎπÑÌö®Ïú®Ïù¥ Î∞úÏÉùÌï©ÎãàÎã§.

Ïù¥Î•º Î∞©ÏßÄÌïòÍ∏∞ ÏúÑÌï¥ JVMÏùÄ Îëê Í∞ÄÏßÄ Ìå®Îî©ÏùÑ ÏÇΩÏûÖÌï©ÎãàÎã§.
1. **Internal Padding**: ÌïÑÎìúÏôÄ ÌïÑÎìú ÏÇ¨Ïù¥Î•º Î©îÏõå Îã§Ïùå ÌïÑÎìúÍ∞Ä ÏûêÏã†Ïùò ÌÅ¨Í∏∞ Î∞∞Ïàò ÏúÑÏπòÏóêÏÑú ÏãúÏûëÌïòÍ≤å Ìï®.
2. **External Padding**: Í∞ùÏ≤¥Ïùò Ï†ÑÏ≤¥ ÌÅ¨Í∏∞Î•º 8Ïùò Î∞∞ÏàòÎ°ú ÎßûÏ∂§. Í∞ùÏ≤¥ ÌÅ¨Í∏∞Í∞Ä 20Î∞îÏù¥Ìä∏ÎùºÎ©¥ Îí§Ïóê 4Î∞îÏù¥Ìä∏Î•º Ï∂îÍ∞ÄÌï¥ 24Î∞îÏù¥Ìä∏Î°ú ÎßåÎì≠ÎãàÎã§.

![](/assets/img/2026-01-14-16-18-20.png)

```java
import org.openjdk.jol.info.ClassLayout;

/**
 * JVMÏùò ÌïÑÎìú Ïû¨Î∞∞Ïπò(Field Reordering)ÏôÄ Ìå®Îî©(Padding) Í¥ÄÏ∞∞
 * * Ìè¨Ïù∏Ìä∏: JVMÏùÄ ÏÑ†Ïñ∏ ÏàúÏÑúÎ•º Î¨¥ÏãúÌïòÍ≥† 'Ìó§Îçî ÎπàÌãà Î©îÏö∞Í∏∞'ÏôÄ 'Ï†ïÎ†¨'ÏùÑ Ïö∞ÏÑ†Ìï©ÎãàÎã§.
 */
public class FieldLayoutAnalysis {

    // ÏµúÏ†ÅÌôîÍ∞Ä ÏóÜÎã§Î©¥ ÌÉÄÏûÖ ÏÇ¨Ïù¥ÏÇ¨Ïù¥Ïóê ÎßâÎåÄÌïú Ìå®Îî©Ïù¥ Î∞úÏÉùÌï¥Ïïº Ìï®
    static class SuboptimalLayout {
        // [Í∞úÎ∞úÏûêÏùò ÏÑ†Ïñ∏ ÏàúÏÑú]
        boolean a; // 1 byte
        long b;    // 8 bytes
        int c;     // 4 bytes
        byte d;    // 1 byte
        Object e;  // 4 bytes (Compressed OOPs Ï†ÅÏö© Ïãú)
    }

    public static void main(String[] args) {
        System.out.println("=== [SuboptimalLayout ÌÅ¥ÎûòÏä§Ïùò Î¨ºÎ¶¨Ï†Å Î∞∞Ïπò Î∂ÑÏÑù] ===");

        // ÌÅ¥ÎûòÏä§Ïùò Î†àÏù¥ÏïÑÏõÉ Ï†ïÎ≥¥ Ï∂úÎ†•
        System.out.println(ClassLayout.parseClass(SuboptimalLayout.class).toPrintable());

        /*
         * Í¥ÄÏ†Ñ Ìè¨Ïù∏Ìä∏:
         * 1. Reordering: ÏÑ†Ïñ∏ ÏàúÏÑú(a, b, c, d, e)Í∞Ä Ïú†ÏßÄÎêòÎäîÍ∞Ä,
         * ÏïÑÎãàÎ©¥ Ìó§ÎçîÍ∞Ä ÎÅùÎÇòÎäî ÏßÄÏ†êÏùò 'ÏûêÌà¨Î¶¨ Í≥µÍ∞Ñ'ÏùÑ Î®ºÏ†Ä Ï±ÑÏö∞ÎäîÍ∞Ä?
         * 2. Internal Padding: ÌïÑÎìú ÏÇ¨Ïù¥Î•º Î©îÏö∞Îäî Îπà Í≥µÍ∞ÑÏù¥ ÏûàÎäîÍ∞Ä?
         * 3. External Padding (Loss): Ï†ÑÏ≤¥ ÌÅ¨Í∏∞Î•º 8Ïùò Î∞∞ÏàòÎ°ú ÎßûÏ∂îÍ∏∞ ÏúÑÌï¥
         * ÎßàÏßÄÎßâÏóê Ï∂îÍ∞ÄÎêú Í≥µÍ∞ÑÏù¥ ÏñºÎßàÏù∏Í∞Ä?
         */
    }
}
```

## üß© Virtual Method Table

ÏûêÎ∞îÏóêÏÑú `parent.method()`Î•º Ìò∏Ï∂úÌñàÏùÑ Îïå, Îü∞ÌÉÄÏûÑÏóê Ïã§Ï†ú Ïù∏Ïä§ÌÑ¥Ïä§Ïùò ÌÉÄÏûÖÏóê ÎßûÎäî Î©îÏÑúÎìúÍ∞Ä Ïã§ÌñâÎêòÎäî ÎßàÎ≤ïÏùÄ **Virtual Method Table(vtable)**Ïù¥ÎùºÎäî Ï†ïÍµêÌïú Ï£ºÏÜåÎ°ù ÎçïÎ∂ÑÏûÖÎãàÎã§. Ïù¥Îäî Îã®ÏàúÌûà ÎÖºÎ¶¨Ï†ÅÏù∏ Í∞úÎÖêÏù¥ ÏïÑÎãàÎùº, JVMÏùò Î©îÌÉÄÎç∞Ïù¥ÌÑ∞ ÏòÅÏó≠(Metaspace)Ïóê Ï°¥Ïû¨ÌïòÎäî Ïã§Ï†ú Ìè¨Ïù∏ÌÑ∞ Î∞∞Ïó¥ÏûÖÎãàÎã§.

### ÏÉÅÏÜçÍ≥º Î©îÎ™®Î¶¨ Ïò§Î≤ÑÎ†àÏù¥

Í∞ùÏ≤¥Í∞Ä ÏÉÅÏÜçÎê† Îïå, Î©îÎ™®Î¶¨ Î†àÏù¥ÏïÑÏõÉÏùÄ Î∂ÄÎ™®Ïùò Îç∞Ïù¥ÌÑ∞Î•º Î∞îÌÉïÏúºÎ°ú ÏûêÏãùÏùò Îç∞Ïù¥ÌÑ∞Î•º ÎçßÎ∂ôÏù¥Îäî **ÏÑ†Ìòï ÌôïÏû•** Íµ¨Ï°∞Î•º Í∞ÄÏßëÎãàÎã§. ÏûêÏãù Ïù∏Ïä§ÌÑ¥Ïä§Í∞Ä ÏÉùÏÑ±ÎêòÎ©¥ Í∞ÄÏû• Î®ºÏ†Ä Î∂ÄÎ™® ÌÅ¥ÎûòÏä§Ïóê Ï†ïÏùòÎêú ÌïÑÎìúÎì§Ïù¥ Ìó§Îçî Î∞îÎ°ú Îí§Ïóê Î∞∞ÏπòÎêòÍ≥†, Í∑∏ Îí§Î•º Ïù¥Ïñ¥ ÏûêÏãù ÌÅ¥ÎûòÏä§Ïùò Í≥†Ïú† ÌïÑÎìúÎì§Ïù¥ ÏûêÎ¶¨Î•º Ïû°ÏäµÎãàÎã§.

Ïù¥ Íµ¨Ï°∞ ÎçïÎ∂ÑÏóê JVMÏùÄ ÏûêÏãù Í∞ùÏ≤¥Î•º Î∂ÄÎ™® ÌÉÄÏûÖÏúºÎ°ú Ï∫êÏä§ÌåÖÌïòÎçîÎùºÎèÑ, Î∂ÄÎ™® ÌïÑÎìúÏùò Ïò§ÌîÑÏÖã(ÏãúÏûë ÏßÄÏ†êÏúºÎ°úÎ∂ÄÌÑ∞Ïùò Í±∞Î¶¨)Ïù¥ Î≥ÄÌïòÏßÄ ÏïäÎäîÎã§Îäî Í≤ÉÏùÑ Î≥¥Ïû•Ìï† Ïàò ÏûàÏäµÎãàÎã§. Ï¶â, Ïñ¥Îñ§ ÌÉÄÏûÖÏúºÎ°ú Î≥¥Îì† 'Î∂ÄÎ™®Î°úÎ∂ÄÌÑ∞ Î¨ºÎ†§Î∞õÏùÄ Îç∞Ïù¥ÌÑ∞'Îäî Ìï≠ÏÉÅ Í∞ôÏùÄ ÏûêÎ¶¨Ïóê ÏúÑÏπòÌï©ÎãàÎã§.

![](/assets/img/2026-01-14-16-18-35.png)

### VTable

JVMÏùÄ ÌÅ¥ÎûòÏä§Î•º Î°úÎî©Ìï† Îïå Ìï¥Îãπ ÌÅ¥ÎûòÏä§Í∞Ä Í∞ÄÏßÑ Î™®Îì† 'Í∞ÄÏÉÅ Î©îÏÑúÎìú(Í∞ÄÏãúÏÑ±Ïù¥ ÌôïÎ≥¥Îêú Ïù∏Ïä§ÌÑ¥Ïä§ Î©îÏÑúÎìú)'Ïùò ÏóîÌä∏Î¶¨ Ìè¨Ïù∏Ìä∏Î•º ÎÇòÏó¥Ìïú vtableÏùÑ ÏÉùÏÑ±Ìï©ÎãàÎã§. ÏÉÅÏÜç Í¥ÄÍ≥ÑÏóêÏÑú Ïù¥ ÌÖåÏù¥Î∏îÏùÄ Îã§ÏùåÍ≥º Í∞ôÏùÄ ÏàúÏÑúÎ°ú Ï°∞Î¶ΩÎê©ÎãàÎã§.

1. **Î∂ÄÎ™®Ïùò Î≥µÏ†ú**: ÏûêÏãù ÌÅ¥ÎûòÏä§Ïùò vtableÏùÄ Î∂ÄÎ™® ÌÅ¥ÎûòÏä§Ïùò vtable ÎÇ¥Ïö©ÏùÑ Í∑∏ÎåÄÎ°ú Î≥µÏÇ¨ÌïòÏó¨ ÏãúÏûëÌï©ÎãàÎã§.
2. **Ïò§Î≤ÑÎùºÏù¥Îî©(Overriding)**: ÏûêÏãù ÌÅ¥ÎûòÏä§Í∞Ä Î∂ÄÎ™®Ïùò Î©îÏÑúÎìúÎ•º Ïû¨Ï†ïÏùòÌñàÎã§Î©¥, Î≥µÏÇ¨Ìï¥Ïò® vtableÏùò Ìï¥Îãπ Ïä¨Î°Ø Ï£ºÏÜåÎ•º ÏûêÏãùÏù¥ ÏÉàÎ°ú Íµ¨ÌòÑÌïú Î©îÏÑúÎìúÏùò Ï£ºÏÜåÎ°ú Í∞àÏïÑ ÎÅºÏõÅÎãàÎã§.
3. **Ïã†Í∑ú Î©îÏÑúÎìú Ï∂îÍ∞Ä**: ÏûêÏãù ÌÅ¥ÎûòÏä§ÏóêÏÑúÎßå Ï†ïÏùòÎêú ÏÉàÎ°úÏö¥ Î©îÏÑúÎìúÎì§ÏùÄ ÌÖåÏù¥Î∏îÏùò Í∞ÄÏû• ÎßàÏßÄÎßâ Ïä¨Î°Ø Îí§Ïóê Ï∂îÍ∞ÄÎê©ÎãàÎã§.

Ïù¥ Î©îÏª§ÎãàÏ¶ò ÎçïÎ∂ÑÏóê `invokevirtual` Î™ÖÎ†πÏñ¥Í∞Ä Ïã§ÌñâÎê† Îïå, JVMÏùÄ Ïù∏Ïä§ÌÑ¥Ïä§Ïùò Ìó§Îçî(Klass Word)Î•º ÌÜµÌï¥ vtableÏóê Ï†ëÍ∑ºÌïú Îí§, Ïª¥ÌååÏùº ÌÉÄÏûÑÏóê Í≤∞Ï†ïÎêú 'Í≥†Ï†ïÎêú Ïù∏Îç±Ïä§'Ïùò Ï£ºÏÜåÍ∞íÏúºÎ°ú Ï†êÌîÑÌïòÍ∏∞Îßå ÌïòÎ©¥ Îê©ÎãàÎã§. Ïù¥Í≤ÉÏù¥ ÏûêÎ∞î Îã§ÌòïÏÑ±Ïù¥ Îü∞ÌÉÄÏûÑÏóê Îß§Ïö∞ Îπ†Î•¥Í≤å ÎèôÏûëÌïòÎäî ÎπÑÍ≤∞ÏûÖÎãàÎã§.

> **vtableÏùò ÏúÑÏπòÏôÄ Ï∞∏Ï°∞**
> 
> ÏóÑÎ∞ÄÌûà ÎßêÌïòÎ©¥ vtableÏùÄ ÌûôÏóê ÏûàÎäî 'Í∞ùÏ≤¥ Ïù∏Ïä§ÌÑ¥Ïä§' ÎÇ¥Î∂ÄÏóê Îß§Î≤à ÏÉùÏÑ±ÎêòÏßÄ ÏïäÏäµÎãàÎã§. ÎåÄÏã† MetaspaceÏùò `InstanceKlass` Íµ¨Ï°∞Ï≤¥ ÎÇ¥Î∂ÄÏóê ÏúÑÏπòÌïòÎ©∞, Î™®Îì† Ïù∏Ïä§ÌÑ¥Ïä§Îäî Ìó§ÎçîÏùò Klass WordÎ•º ÌÜµÌï¥ Ïù¥ Îã® ÌïòÎÇòÏùò Í≥µÏú† ÌÖåÏù¥Î∏îÏùÑ Ï∞∏Ï°∞Ìï©ÎãàÎã§. Ïù¥Îäî ÏàòÎ∞±Îßå Í∞úÏùò Ïù∏Ïä§ÌÑ¥Ïä§Í∞Ä ÏÉùÏÑ±ÎêòÏñ¥ÎèÑ Î©îÏÑúÎìú Ï£ºÏÜåÎ°ùÏùÄ ÌÅ¥ÎûòÏä§Îãπ ÌïòÎÇòÎßå Ï°¥Ïû¨ÌïòÍ≤å ÌïòÏó¨ Î©îÎ™®Î¶¨Î•º Ï†àÏïΩÌïòÎäî ÏÑ§Í≥ÑÏûÖÎãàÎã§.
{: .prompt-tip }

![](/assets/img/2026-01-14-16-18-40.png)

```java
import org.openjdk.jol.info.ClassLayout;

/**
 * ÏÉÅÏÜç Í¥ÄÍ≥ÑÏóêÏÑúÏùò ÌïÑÎìú ÏÑ†Ìòï ÌôïÏû• Î∞è vtable ÎÖºÎ¶¨ Íµ¨Ï°∞ ÏãúÎÆ¨Î†àÏù¥ÏÖò
 */
public class InheritanceVTableAnalysis {

    static class A {
        long aField;
        void m1() { System.out.println("A.m1()"); }
        void m2() { System.out.println("A.m2()"); }
    }

    static class B extends A {
        int bField;
        @Override
        void m1() { System.out.println("B.m1() - Overridden"); }
        void m3() { System.out.println("B.m3()"); }
    }

    static class C extends B {
        byte cField;
        @Override
        void m3() { System.out.println("C.m3() - Overridden"); }
        void m4() { System.out.println("C.m4()"); }
    }

    public static void main(String[] args) {
        C instanceC = new C();

        // 1. Î¨ºÎ¶¨Ï†Å ÌïÑÎìú Î∞∞Ïπò ÌôïÏù∏ (ÏÑ†Ìòï ÌôïÏû•)
        System.out.println("=== [Class CÏùò Î©îÎ™®Î¶¨ Î†àÏù¥ÏïÑÏõÉ: Î∂ÄÎ™® ÌïÑÎìúÎ∂ÄÌÑ∞ ÏåìÏù¥Îäî Íµ¨Ï°∞] ===");
        System.out.println(ClassLayout.parseInstance(instanceC).toPrintable());

        // 2. Îã§ÌòïÏÑ± Ìò∏Ï∂ú ÏãúÎÆ¨Î†àÏù¥ÏÖò (vtable Í∏∞Î∞ò)
        System.out.println("=== [Îã§ÌòïÏÑ± Ìò∏Ï∂ú Ïãú Îü∞ÌÉÄÏûÑ Î©îÏÑúÎìú Î∞îÏù∏Îî©] ===");
        A polyA = instanceC; // C Ïù∏Ïä§ÌÑ¥Ïä§Î•º A ÌÉÄÏûÖÏúºÎ°ú Ï∞∏Ï°∞

        System.out.print("polyA.m1() Ìò∏Ï∂ú Í≤∞Í≥º: ");
        polyA.m1(); // vtable Ïù∏Îç±Ïä§ 0Î≤à(ÏòàÏãú) Ï∂îÏ†Å -> B.m1() Ïã§Ìñâ

        System.out.print("polyA.m2() Ìò∏Ï∂ú Í≤∞Í≥º: ");
        polyA.m2(); // vtable Ïù∏Îç±Ïä§ 1Î≤à(ÏòàÏãú) Ï∂îÏ†Å -> A.m2() Ïã§Ìñâ (Î∂ÄÎ™® Í≤É Ïú†ÏßÄ)
    }
}
```

## üß© Interface Method Table

ÏûêÎ∞îÏùò Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Îäî ÌÅ¥ÎûòÏä§ Í≥ÑÏ∏µ Íµ¨Ï°∞Ïóê Íµ¨Ïï†Î∞õÏßÄ ÏïäÎäî Ïú†Ïó∞Ìï®ÏùÑ Ï†úÍ≥µÌïòÏßÄÎßå, Ïù¥Î•º ÏßÄÏõêÌïòÍ∏∞ ÏúÑÌïú JVMÏùò Îí∑Î©¥ÏùÄ Ìõ®Ïî¨ Î≥µÏû°Ìï¥ÏßëÎãàÎã§. VTableÏùÄ ÏÑ†ÌòïÏ†ÅÏù∏ ÏÉÅÏÜç Í¥ÄÍ≥ÑÎ•º Ï†ÑÏ†úÎ°ú 'Í≥†Ï†ïÎêú Ïù∏Îç±Ïä§'Î•º ÏÇ¨Ïö©Ìï¥ Î©îÏÑúÎìúÎ•º Ï∞æÏßÄÎßå, Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Îäî Ïñ¥Îñ§ ÌÅ¥ÎûòÏä§Í∞Ä Ïù¥Î•º Íµ¨ÌòÑÌï†ÏßÄ Ïïå Ïàò ÏóÜÍ∏∞Ïóê Í≥†Ï†ïÎêú Ïù∏Îç±Ïä§Î•º Î∂ÄÏó¨Ìï† Ïàò ÏóÜÏäµÎãàÎã§. Ïù¥ Î¨∏Ï†úÎ•º Ìï¥Í≤∞ÌïòÎäî Ïû•ÏπòÍ∞Ä Î∞îÎ°ú **Interface Method Table(ITable)**ÏûÖÎãàÎã§.

### ITable

VTable Ìò∏Ï∂ú(`invokevirtual`)Ïù¥ "VTableÏùò 5Î≤à Ïä¨Î°ØÏúºÎ°ú Í∞ÄÏÑú Ïã§ÌñâÌï¥"ÎùºÍ≥† Î™ÖÎ†πÌïúÎã§Î©¥, Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ Ìò∏Ï∂ú(`invokeinterface`)ÏùÄ "Ïù¥ Í∞ùÏ≤¥Í∞Ä Íµ¨ÌòÑÌïú Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ Î™©Î°ù Ï§ë 'Comparable'ÏùÑ Ï∞æÍ≥†, Í∑∏ ÏïàÏóêÏÑú 'compareTo' Î©îÏÑúÎìúÎ•º Ï∞æÏïÑ Ïã§ÌñâÌï¥"ÎùºÎäî Í≥ºÏ†ïÏùÑ Í±∞Ïπ©ÎãàÎã§.

ITableÏùÄ ÌÅ¨Í≤å Îëê Î∂ÄÎ∂ÑÏúºÎ°ú ÎÇòÎâ©ÎãàÎã§.
1. **ITable Offset Entry**: Ìï¥Îãπ ÌÅ¥ÎûòÏä§Í∞Ä Íµ¨ÌòÑÌïú Í∞Å Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Ïùò ÏãúÏûë ÏßÄÏ†êÏùÑ Í∞ÄÎ¶¨ÌÇ§Îäî Ìè¨Ïù∏ÌÑ∞Îì§Ïùò Î™©Î°ùÏûÖÎãàÎã§.
2. **ITable Method Entry**: Ïã§Ï†ú Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Ïóê Ï†ïÏùòÎêú Î©îÏÑúÎìúÎì§Ïùò Íµ¨ÌòÑÏ≤¥ Ï£ºÏÜåÍ∞Ä Îã¥Í∏¥ Ïä¨Î°ØÏûÖÎãàÎã§.

Í∞ùÏ≤¥Í∞Ä Ïó¨Îü¨ Í∞úÏùò Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Î•º Íµ¨ÌòÑÌï†ÏàòÎ°ù Ïù¥ ÌÖåÏù¥Î∏îÏùÄ Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ Îã®ÏúÑÎ°ú Í∑∏Î£πÌôîÎêòÏñ¥ ÌôïÏû•Îê©ÎãàÎã§. JVMÏùÄ Îü∞ÌÉÄÏûÑÏóê ÌòÑÏû¨ Ìò∏Ï∂úÎêú Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Í∞Ä ITableÏùò Ïñ¥ÎîîÏÑúÎ∂ÄÌÑ∞ ÏãúÏûëÎêòÎäîÏßÄ Î®ºÏ†Ä Ï∞æÏïÑÎÇ∏ Îí§, Í∑∏ ÏãúÏûëÏ†êÏúºÎ°úÎ∂ÄÌÑ∞ Î©îÏÑúÎìú Ïò§ÌîÑÏÖãÏùÑ ÎçîÌï¥ Ïã§Ï†ú Ìò∏Ï∂ú Ï£ºÏÜåÎ•º Í≤∞Ï†ïÌï©ÎãàÎã§.

![](/assets/img/2026-01-14-16-18-48.png)

### Ìò∏Ï∂ú Ïò§Î≤ÑÌó§Îìú

Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ Î©îÏÑúÎìú Ìò∏Ï∂úÏù¥ ÏùºÎ∞ò Î©îÏÑúÎìú Ìò∏Ï∂úÎ≥¥Îã§ ÎØ∏ÏÑ∏ÌïòÍ≤å ÎäêÎ¶∞ Ïù¥Ïú†Îäî Ïù¥ **'Ïù¥Ï§ë ÌÉêÏÉâ'** ÎïåÎ¨∏ÏûÖÎãàÎã§. VTableÏùÄ Í∞ùÏ≤¥Ïùò ÌÉÄÏûÖÏùÑ ÏïåÎ©¥ Ï¶âÏãú ÌäπÏ†ï Ïù∏Îç±Ïä§Î°ú Ï†ëÍ∑ºÌï† Ïàò ÏûàÎäî Î∞òÎ©¥, ITableÏùÄ Íµ¨ÌòÑÎêú Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ Î™©Î°ùÏùÑ ÏàúÌöåÌïòÍ±∞ÎÇò Ìï¥Ïãú ÌÖåÏù¥Î∏îÏùÑ ÌÜµÌï¥ Ìï¥Îãπ Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Ïùò Î©îÏÑúÎìú Í∑∏Î£πÏùÑ Î®ºÏ†Ä Ï∞æÏïÑÏïº Ìï©ÎãàÎã§.

ÌòÑÎåÄÏùò JVMÏùÄ Ïù¥Î•º ÏµúÏ†ÅÌôîÌïòÍ∏∞ ÏúÑÌï¥ **Inline Caching**Í≥º Í∞ôÏùÄ Í∏∞Ïà†ÏùÑ ÏÇ¨Ïö©ÌïòÏßÄÎßå, ÎÖºÎ¶¨Ï†Å Íµ¨Ï°∞ÏÉÅ ITableÏùÄ VTableÎ≥¥Îã§ Ìïú Îã®Í≥Ñ Îçî ÍπäÏùÄ Í∞ÑÏ†ë Ï∞∏Ï°∞(Indirection)Î•º ÏàòÎ∞òÌï©ÎãàÎã§. ÌäπÌûà ÏàòÏã≠ Í∞úÏùò Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Î•º Íµ¨ÌòÑÌïú Î≥µÏû°Ìïú ÌÅ¥ÎûòÏä§Ïùò Í≤ΩÏö∞, ITable ÌÉêÏÉâ ÎπÑÏö©ÏùÄ Î¨¥ÏãúÌï† Ïàò ÏóÜÎäî Î≥ÄÏàòÍ∞Ä Îê©ÎãàÎã§.

> **ITableÏùò ÌååÌé∏Ìôî**
> 
> ÌÅ¥ÎûòÏä§Í∞Ä Íµ¨ÌòÑÌïòÎäî Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Í∞Ä ÎäòÏñ¥ÎÇ†ÏàòÎ°ù ITableÏùÄ Î©îÎ™®Î¶¨ÏÉÅÏóêÏÑú ÌååÌé∏ÌôîÎêú Íµ¨Ï°∞Î•º Í∞ñÍ≤å Îê©ÎãàÎã§. Ïù¥Îäî CPUÏùò Î∂ÑÍ∏∞ ÏòàÏ∏°(Branch Prediction)ÏùÑ Ïñ¥Î†µÍ≤å ÎßåÎì§Í≥†, Ï∫êÏãú ÎØ∏Ïä§Î•º Ïú†Î∞úÌï† Í∞ÄÎä•ÏÑ±ÏùÑ ÎÜíÏûÖÎãàÎã§. 'Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ Ï§ëÏã¨ ÏÑ§Í≥Ñ'Í∞Ä ÏïÑÌÇ§ÌÖçÏ≤òÏ†ÅÏúºÎ°úÎäî Ïö∞ÏïÑÌï†ÏßÄ Î™∞ÎùºÎèÑ, Î∞îÏù¥ÎÑàÎ¶¨ ÏàòÏ§ÄÏóêÏÑúÎäî ÏãúÏä§ÌÖúÏóê Ï∂îÍ∞ÄÏ†ÅÏù∏ ÌÉêÏÉâ ÎπÑÏö©ÏùÑ Ï≤≠Íµ¨ÌïòÍ≥† ÏûàÎäî ÏÖàÏûÖÎãàÎã§.
{: .prompt-warning }

![](/assets/img/2026-01-14-16-18-56.png)

```java
import org.openjdk.jol.info.ClassLayout;

/**
 * VTable(invokevirtual)Í≥º ITable(invokeinterface)Ïùò Íµ¨Ï°∞Ï†Å Ï∞®Ïù¥ Î∂ÑÏÑù
 */
public class InterfaceDispatchAnalysis {

    // 1. VTable Í≤ΩÎ°ú: ÌÅ¥ÎûòÏä§ ÏÉÅÏÜç
    static class BaseClass {
        public void perform() { /* ÏÉÅÏÜçÏùÑ ÌÜµÌïú Ìò∏Ï∂ú */ }
    }
    static class VTableImpl extends BaseClass {
        @Override public void perform() { }
    }

    // 2. ITable Í≤ΩÎ°ú: Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ Íµ¨ÌòÑ
    interface Action {
        void perform();
    }
    static class ITableImpl implements Action {
        @Override public void perform() { }
    }

    public static void main(String[] args) {
        VTableImpl vTableObj = new VTableImpl();
        ITableImpl iTableObj = new ITableImpl();

        System.out.println("=== 1. Ïù∏Ïä§ÌÑ¥Ïä§ Î†àÏù¥ÏïÑÏõÉ ÎπÑÍµê (Heap ÏòÅÏó≠) ===");
        // Îëê Í∞ùÏ≤¥ Î™®Îëê ÎèôÏùºÌïú Ìó§Îçî(Klass Word)Î•º Í∞ÄÏßêÏùÑ ÌôïÏù∏
        System.out.println("VTable Class Layout:\n" + ClassLayout.parseInstance(vTableObj).toPrintable());
        System.out.println("ITable Class Layout:\n" + ClassLayout.parseInstance(iTableObj).toPrintable());

        System.out.println("=== 2. Ìò∏Ï∂ú Î©îÏª§ÎãàÏ¶ò Ï∂îÎ°† (Metaspace ÏòÅÏó≠) ===");

        // ÏãúÎÇòÎ¶¨Ïò§ A: invokevirtual (VTable)
        // Klass Word -> VTable -> [Fixed Index] -> Method Address
        vTableObj.perform();
        System.out.println("[VTable] ÏßÅÏ†ë Ïù∏Îç±Ïã±ÏùÑ ÌÜµÌïú Îπ†Î•∏ Ï†êÌîÑ Í∞ÄÎä•");

        // ÏãúÎÇòÎ¶¨Ïò§ B: invokeinterface (ITable)
        // Klass Word -> ITable -> [Search Interface Offset] -> [Method Index] -> Method Address
        Action action = iTableObj;
        action.perform();
        System.out.println("[ITable] Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ Ïò§ÌîÑÏÖã ÌÉêÏÉâ Îã®Í≥ÑÍ∞Ä Ï∂îÍ∞ÄÎ°ú ÌïÑÏöî");
    }
}
```

## üß© Compressed OOPs

ÌòÑÎåÄ ÌïòÎìúÏõ®Ïñ¥Í∞Ä 64ÎπÑÌä∏Î°ú Ï†ÑÌôòÎêòÎ©¥ÏÑú Ïö∞Î¶¨Îäî Ïù¥Î°†Ï†ÅÏúºÎ°ú 16EB(ÏóëÏÇ¨Î∞îÏù¥Ìä∏)ÎùºÎäî Î¨¥ÌïúÏóê Í∞ÄÍπåÏö¥ Î©îÎ™®Î¶¨Î•º ÏÇ¨Ïö©Ìï† Ïàò ÏûàÍ≤å ÎêòÏóàÏäµÎãàÎã§. ÌïòÏßÄÎßå ÏÜåÌîÑÌä∏Ïõ®Ïñ¥ ÏóîÏßÄÎãàÏñ¥ÎßÅÏóêÎäî Í≥µÏßú Ï†êÏã¨Ïù¥ ÏóÜÏäµÎãàÎã§. 64ÎπÑÌä∏ Ï£ºÏÜå Ï≤¥Í≥ÑÎäî Ìè¨Ïù∏ÌÑ∞ ÌïòÎÇòÎ•º Ï†ÄÏû•ÌïòÎäî Îç∞ 8Î∞îÏù¥Ìä∏Î•º ÏÜåÎ™®ÌïòÎ©∞, Ïù¥Îäî 32ÎπÑÌä∏ ÌôòÍ≤Ω ÎåÄÎπÑ Îëê Î∞∞Ïùò Î©îÎ™®Î¶¨ ÎÇ≠ÎπÑÏôÄ CPU Ï∫êÏãú Ìö®Ïú® Ï†ÄÌïòÎ•º Ï¥àÎûòÌñàÏäµÎãàÎã§. JVMÏùÄ Ïù¥ Î¨∏Ï†úÎ•º Ìï¥Í≤∞ÌïòÍ∏∞ ÏúÑÌï¥ **Compressed OOPs(Ordinary Object Pointers)**ÎùºÎäî ÏòÅÎ¶¨Ìïú ÏïïÏ∂ï Í∏∞Ïà†ÏùÑ ÎèÑÏûÖÌñàÏäµÎãàÎã§.

### Ìè¨Ïù∏ÌÑ∞ ÏïïÏ∂ïÍ≥º Î≥µÏõê

32ÎπÑÌä∏ Ìè¨Ïù∏ÌÑ∞Îäî ÏµúÎåÄ 4GB($2^{32}$)Ïùò Î©îÎ™®Î¶¨Îßå Í∞ÄÎ¶¨ÌÇ¨ Ïàò ÏûàÏäµÎãàÎã§. ÌïòÏßÄÎßå JVMÏùÄ Î™®Îì† Í∞ùÏ≤¥Î•º 8Î∞îÏù¥Ìä∏ Í≤ΩÍ≥ÑÏóê Ï†ïÎ†¨(Alignment)ÌïúÎã§Îäî ÏÇ¨Ïã§Ïóê Ï£ºÎ™©ÌñàÏäµÎãàÎã§. Î™®Îì† Í∞ùÏ≤¥Ïùò ÏãúÏûë Ï£ºÏÜåÍ∞Ä 8Ïùò Î∞∞ÏàòÎùºÎ©¥, Ï£ºÏÜåÍ∞íÏùò ÌïòÏúÑ 3ÎπÑÌä∏Îäî Ìï≠ÏÉÅ 0Ïùº ÏàòÎ∞ñÏóê ÏóÜÏäµÎãàÎã§.

JVMÏùÄ Ïù¥ 'Ìï≠ÏÉÅ 0Ïù∏ 3ÎπÑÌä∏'Î•º Ï†úÍ±∞ÌïòÍ≥† Ï£ºÏÜåÍ∞íÏùÑ Ï†ÄÏû•Ìï©ÎãàÎã§. Ï¶â, Ïã§Ï†ú Î¨ºÎ¶¨ Ï£ºÏÜåÎ•º 8Î°ú ÎÇòÎàà Í∞í(3ÎπÑÌä∏ Ïö∞Ï∏° ÏãúÌîÑÌä∏)ÏùÑ 32ÎπÑÌä∏ Ìè¨Ïù∏ÌÑ∞Ïóê Îã¥Îäî Í≤ÉÏûÖÎãàÎã§. Ïù¥Î†áÍ≤å ÌïòÎ©¥ 32ÎπÑÌä∏ Í≥µÍ∞ÑÏóê $2^{32} \times 8$ Î∞îÏù¥Ìä∏, Ï¶â **32GB**ÍπåÏßÄÏùò Ï£ºÏÜå Í≥µÍ∞ÑÏùÑ ÌëúÌòÑÌï† Ïàò ÏûàÍ≤å Îê©ÎãàÎã§. CPUÍ∞Ä Ïù¥ Ìè¨Ïù∏ÌÑ∞Î•º ÏÇ¨Ïö©Ìï† ÎïåÎäî Îã§Ïãú Ï¢åÏ∏°ÏúºÎ°ú 3ÎπÑÌä∏Î•º Î∞ÄÏñ¥(Left Shift) ÏõêÎûòÏùò 64ÎπÑÌä∏ Ï£ºÏÜåÎ•º Î≥µÏõêÌï©ÎãàÎã§. 

![](/assets/img/2026-01-14-16-31-21.png)

### Zero-based Heap

ÎπÑÌä∏ ÏãúÌîÑÌåÖÏùÑ ÌÜµÌïú Ï£ºÏÜå Î≥µÏõêÏùÄ Îß§Ïö∞ Îπ†Î•¥ÏßÄÎßå, ÎßåÏïΩ Ìûô Î©îÎ™®Î¶¨Í∞Ä ÏãúÏä§ÌÖúÏùò 0Î≤àÏßÄÎ∂ÄÌÑ∞ ÏãúÏûëÌïòÏßÄ ÏïäÎäîÎã§Î©¥ Ï∂îÍ∞ÄÏ†ÅÏù∏ Ïó∞ÏÇ∞Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§. Î≥µÏõêÎêú Ï£ºÏÜåÏóê ÌûôÏùò ÏãúÏûë Ï£ºÏÜå(Base Address)Î•º ÎçîÌï¥Ïïº ÌïòÍ∏∞ ÎïåÎ¨∏ÏûÖÎãàÎã§.

JVMÏùÄ Ïù¥Î•º ÏµúÏ†ÅÌôîÌïòÍ∏∞ ÏúÑÌï¥ Í∞ÄÎä•Ìïú Ìïú ÌûôÏùÑ Î©îÎ™®Î¶¨Ïùò ÎÇÆÏùÄ Ï£ºÏÜå ÏòÅÏó≠Ïóê Î∞∞ÏπòÌïòÏó¨ ÏãúÏûë Ï£ºÏÜåÎ•º 0ÏúºÎ°ú ÎßåÎìúÎäî **Zero-based Heap** Ï†ÑÎûµÏùÑ ÏÇ¨Ïö©Ìï©ÎãàÎã§. ÏãúÏûë Ï£ºÏÜåÍ∞Ä 0Ïù¥ÎùºÎ©¥ Îã®ÏàúÌûà ÎπÑÌä∏Î•º ÎØ∏Îäî Í≤ÉÎßåÏúºÎ°ú Î¨ºÎ¶¨ Ï£ºÏÜåÎ•º ÏñªÏùÑ Ïàò ÏûàÏñ¥ Ïó∞ÏÇ∞ ÎπÑÏö©Ïù¥ Í±∞Ïùò Ï†úÎ°úÏóê ÏàòÎ†¥Ìï©ÎãàÎã§. ÌïòÏßÄÎßå ÏãúÏä§ÌÖú ÏòàÏïΩ ÏòÅÏó≠ Îì±ÏúºÎ°ú Ïù∏Ìï¥ 0Î≤àÏßÄ Î∞∞ÏπòÍ∞Ä Î∂àÍ∞ÄÎä•Ìï¥ÏßÄÎ©¥, JVMÏùÄ Î≤†Ïù¥Ïä§ Ï£ºÏÜåÎ•º ÎçîÌïòÎäî Ïò§Î≤ÑÌó§ÎìúÎ•º Í∞êÏàòÌïòÍ±∞ÎÇò ÏïïÏ∂ï ÏûêÏ≤¥Î•º Ìè¨Í∏∞ÌïòÍ≤å Îê©ÎãàÎã§.

> **32GBÏùò Ïû•Î≤Ω**
> 
> ÎßéÏùÄ ÏóîÏßÄÎãàÏñ¥Í∞Ä Ìûô ÌÅ¨Í∏∞Î•º 31GBÎÇò 32GB ÏßÅÏ†ÑÏúºÎ°ú ÏÑ§Ï†ïÌïòÎäî Ïù¥Ïú†Í∞Ä Î∞îÎ°ú Ïó¨Í∏∞Ïóê ÏûàÏäµÎãàÎã§. 32GBÎ•º Îã® 1Î∞îÏù¥Ìä∏ÎùºÎèÑ ÎÑòÏñ¥ÏÑúÎäî ÏàúÍ∞Ñ, JVMÏùÄ 8Î∞îÏù¥Ìä∏ Ï†ïÎ†¨ÎßåÏúºÎ°úÎäî Î™®Îì† Ï£ºÏÜåÎ•º 32ÎπÑÌä∏Ïóê Îã¥ÏùÑ Ïàò ÏóÜÎã§Í≥† ÌåêÎã®ÌïòÍ≥† ÏïïÏ∂ï Ìè¨Ïù∏ÌÑ∞ ÏÇ¨Ïö©ÏùÑ Ï§ëÎã®Ìï©ÎãàÎã§. Ïù¥ Í≤ΩÏö∞ Î™®Îì† Ìè¨Ïù∏ÌÑ∞Í∞Ä 8Î∞îÏù¥Ìä∏Î°ú ÎäòÏñ¥ÎÇòÎ©¥ÏÑú, Ïò§ÌûàÎ†§ 32GBÏùº ÎïåÎ≥¥Îã§ Í∞ÄÏö© Î©îÎ™®Î¶¨Í∞Ä Ïàò GB Ï§ÑÏñ¥ÎìúÎäî Ïó≠ÏÑ§Ï†ÅÏù∏ ÏÉÅÌô©Ïù¥ Î∞úÏÉùÌï©ÎãàÎã§.
{: .prompt-warning }

![](/assets/img/2026-01-14-16-31-26.png)

## Case Studies

Ïù¥Î°†Ïùò Î™®Ìò∏Ìï®ÏùÑ Í±∑Ïñ¥ÎÇ¥Í∏∞ ÏúÑÌï¥, Ïã§Ï†ú JVM ÏúÑÏóêÏÑú Ïù∏Ïä§ÌÑ¥Ïä§Í∞Ä Ï°∞Î¶ΩÎêòÎäî Í≥ºÏ†ïÏùÑ Íµ¨Ï≤¥Ï†ÅÏù∏ ÏãúÎÇòÎ¶¨Ïò§Î•º ÌÜµÌï¥ Ï†ÑÏàò Ï°∞ÏÇ¨Ìï©ÎãàÎã§. Í∞Å ÏÇ¨Î°ÄÎäî Í∞ùÏ≤¥Í∞Ä Ï†ïÏùòÎêú ÏÜåÏä§ ÏΩîÎìú Î†àÎ≤®Î∂ÄÌÑ∞ Í∑∏Í≤ÉÏù¥ Î©îÎ™®Î¶¨ Îç§ÌîÑ ÏÉÅÏóêÏÑú Ïñ¥Îñ§ Î∞îÏù¥Ìä∏ Ìå®ÌÑ¥ÏúºÎ°ú Ïã§Ï≤¥ÌôîÎêòÎäîÏßÄ Í∑∏ ÎèôÏûë Î©îÏª§ÎãàÏ¶òÏùÑ Ï∂îÏ†ÅÌï©ÎãàÎã§.

### Case 1. Îã®Ïùº ÌÅ¥ÎûòÏä§

ÏÉÅÏÜç Í≥ÑÏ∏µÏù¥ `java.lang.Object`Ïóê Í∑∏ÏπòÎ©∞, Ï∂îÍ∞ÄÏ†ÅÏù∏ Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Î•º Íµ¨ÌòÑÌïòÏßÄ ÏïäÏùÄ Í∞ÄÏû• ÏõêÏûêÏ†ÅÏù∏ ÌòïÌÉúÏùò ÌÅ¥ÎûòÏä§ Ïù∏Ïä§ÌÑ¥Ïä§ÏûÖÎãàÎã§. Ïô∏Î∂ÄÏùò Í∞úÏûÖ ÏóÜÏù¥ Ïò§ÏßÅ ÏûêÏã†Ïùò ÌïÑÎìúÎßåÏúºÎ°ú Î©îÎ™®Î¶¨Î•º Íµ¨ÏÑ±ÌïòÎäî 'ÏàúÏàò Í∞ùÏ≤¥'Ïùò Î†àÏù¥ÏïÑÏõÉÏùÑ Ï†ïÏùòÌï©ÎãàÎã§.

Ïö∞Î¶¨Îäî 2Ï∞®Ïõê ÌèâÎ©¥Ïùò Ï¢åÌëúÎ•º ÎÇòÌÉÄÎÇ¥Îäî Í∞ÑÎã®Ìïú `Vector2D` ÌÅ¥ÎûòÏä§Î•º Í∞ÄÏ†ïÌï©ÎãàÎã§. Ïù¥ ÌÅ¥ÎûòÏä§Îäî Îëê Í∞úÏùò `int` ÌÉÄÏûÖ ÌïÑÎìú `x`ÏôÄ `y`Î•º Í∞ÄÏßëÎãàÎã§.

```java
import org.openjdk.jol.info.ClassLayout;
import org.openjdk.jol.vm.VM;

/**
 * Îã®Ïùº ÌÅ¥ÎûòÏä§(Vector2D)Ïùò Í∏∞Î≥∏ Î†àÏù¥ÏïÑÏõÉÍ≥º Ìó§Îçî/ÌïÑÎìú/Ìå®Îî©Ïùò Ï°∞Ìôî
 */
public class Vector2DAnatomy {

    // 2Ï∞®Ïõê Ï¢åÌëúÎ•º ÎÇòÌÉÄÎÇ¥Îäî ÏõêÏûêÏ†Å ÌÅ¥ÎûòÏä§
    static class Vector2D {
        int x; // 4 bytes
        int y; // 4 bytes
    }

    public static void main(String[] args) {
        // 1. JVM ÌôòÍ≤Ω ÌôïÏù∏ (Compressed OOPs ÌôúÏÑ±Ìôî Ïó¨Î∂Ä Îì±)
        System.out.println(VM.current().details());
        System.out.println("--------------------------------------------------\n");

        // 2. Vector2D Ïù∏Ïä§ÌÑ¥Ïä§ ÏÉùÏÑ±
        Vector2D vector = new Vector2D();

        // 3. Î¨ºÎ¶¨Ï†Å Î©îÎ™®Î¶¨ Î†àÏù¥ÏïÑÏõÉ Ï∂úÎ†•
        System.out.println("=== [Vector2D Ïù∏Ïä§ÌÑ¥Ïä§Ïùò Î©îÎ™®Î¶¨ ÎèôÏûë Î©îÏª§ÎãàÏ¶ò Î∂ÑÏÑù] ===");
        System.out.println(ClassLayout.parseInstance(vector).toPrintable());
    }
}
```

64ÎπÑÌä∏ HotSpot JVM(Compressed OOPs ÌôúÏÑ±Ìôî) ÌôòÍ≤ΩÏóêÏÑú `new Vector2D()`Í∞Ä Ìò∏Ï∂úÎêòÎ©¥, Î©îÎ™®Î¶¨ÏóêÎäî Îã§ÏùåÍ≥º Í∞ôÏùÄ ÏàúÏ∞®Ï†Å Ï°∞Î¶ΩÏù¥ ÏùºÏñ¥ÎÇ©ÎãàÎã§.

1.  **Ìó§Îçî Î∞∞Ïπò (0~11 Byte)**: 8Î∞îÏù¥Ìä∏Ïùò Mark WordÏôÄ 4Î∞îÏù¥Ìä∏Ïùò Klass WordÍ∞Ä Í∞ÄÏû• Î®ºÏ†Ä ÏûêÎ¶¨Î•º Ïû°ÏäµÎãàÎã§. Ïù¥ 12Î∞îÏù¥Ìä∏Îäî Í∞ùÏ≤¥Ïùò Ïã†Î∂ÑÏ¶ùÍ≥º ÌÅ¥ÎûòÏä§ Ï†ïÎ≥¥ Ìè¨Ïù∏ÌÑ∞Î°ú ÏÇ¨Ïö©Îê©ÎãàÎã§.
2.  **ÌïÑÎìú Ìï†Îãπ (12~19 Byte)**: Ï≤´ Î≤àÏß∏ ÌïÑÎìú `int x`Í∞Ä 12Î≤à Ïò§ÌîÑÏÖãÎ∂ÄÌÑ∞ 4Î∞îÏù¥Ìä∏Î•º Ï∞®ÏßÄÌï©ÎãàÎã§. Ïù¥Ïñ¥ÏÑú Îëê Î≤àÏß∏ ÌïÑÎìú `int y`Í∞Ä 16Î≤à Ïò§ÌîÑÏÖãÎ∂ÄÌÑ∞ 4Î∞îÏù¥Ìä∏Î•º Ï∞®ÏßÄÌïòÏó¨ Ï†ïÌôïÌûà 19Î≤à Î∞îÏù¥Ìä∏ÍπåÏßÄ Îç∞Ïù¥ÌÑ∞Î•º Ï±ÑÏõÅÎãàÎã§.
3.  **Í≤ΩÍ≥Ñ Ï†ïÎ†¨Í≥º Ìå®Îî© (20~23 Byte)**: ÏßÄÍ∏àÍπåÏßÄ Ï±ÑÏõåÏßÑ ÌÅ¨Í∏∞Îäî Ï¥ù 20Î∞îÏù¥Ìä∏ÏûÖÎãàÎã§. Í∑∏Îü¨ÎÇò JVMÏùÄ Î©îÎ™®Î¶¨ ÏùΩÍ∏∞ Ìö®Ïú®ÏùÑ ÏúÑÌï¥ Í∞ùÏ≤¥ ÌÅ¨Í∏∞Î•º Ìï≠ÏÉÅ 8Ïùò Î∞∞ÏàòÎ°ú ÎßûÏ∂•ÎãàÎã§. Îî∞ÎùºÏÑú ÎßàÏßÄÎßâÏóê 4Î∞îÏù¥Ìä∏Ïùò Î¨¥ÏùòÎØ∏Ìïú Îç∞Ïù¥ÌÑ∞Ïù∏ **'Ï†ïÎ†¨ Ìå®Îî©(Alignment Padding)'**ÏùÑ Ï∂îÍ∞ÄÌïòÏó¨ ÏµúÏ¢Ö 24Î∞îÏù¥Ìä∏Ïùò Î©îÎ™®Î¶¨ Î∏îÎ°ùÏùÑ ÏôÑÏÑ±Ìï©ÎãàÎã§.

![](/assets/img/2026-01-14-20-06-39.png)

Ïù¥ Í≥ºÏ†ïÏóêÏÑú ÌïµÏã¨ÏùÄ JVMÏù¥ ÌïÑÎìú ÏÇ¨Ïù¥Ïùò ÎπàÌãàÏùÑ ÏµúÏÜåÌôîÌïòÎ†§ ÌïúÎã§Îäî Ï†êÏûÖÎãàÎã§. ÎßåÏïΩ `x`Í∞Ä `byte` ÌÉÄÏûÖÏù¥ÏóàÎã§Î©¥, `y`ÏôÄÏùò ÏÇ¨Ïù¥Ïóê ÎØ∏ÏÑ∏Ìïú ÎÇ¥Î∂Ä Ìå®Îî©Ïù¥ Î∞úÏÉùÌñàÏùÑ Í≤ÉÏûÖÎãàÎã§. ÌïòÏßÄÎßå ÏúÑ ÏòàÏãúÏóêÏÑúÎäî ÌïÑÎìú ÌÅ¨Í∏∞Í∞Ä Í∑†ÏùºÌïòÏó¨ Ïô∏Î∂Ä Ìå®Îî©ÎßåÏúºÎ°ú ÍπîÎÅîÌïòÍ≤å ÎßàÍ∞êÎêòÏóàÏäµÎãàÎã§.

> **4Î∞îÏù¥Ìä∏Ïùò Í≤ΩÏ†úÌïô**
> 
> `Vector2D` Í∞ùÏ≤¥ ÌïòÎÇòÎäî Îç∞Ïù¥ÌÑ∞(8Î∞îÏù¥Ìä∏)Î≥¥Îã§ Î©îÌÉÄÎç∞Ïù¥ÌÑ∞ÏôÄ Ìå®Îî©(16Î∞îÏù¥Ìä∏)Ïùò Î¨¥Í≤åÍ∞Ä Îëê Î∞∞ Îçî ÌÅΩÎãàÎã§. ÎßåÏïΩ ÏàòÎ∞±Îßå Í∞úÏùò Ï¢åÌëúÎ•º Îã§Î£®Îäî Í≤åÏûÑ ÏóîÏßÑÏùÑ ÎßåÎì†Îã§Î©¥, Ïù¥Î•º Í∞ùÏ≤¥ Î∞∞Ïó¥Ïù¥ ÏïÑÎãå ÌîÑÎ¶¨ÎØ∏Ìã∞Î∏å Î∞∞Ïó¥(`int[] x`, `int[] y`)Î°ú Í¥ÄÎ¶¨ÌïòÎäî Í≤ÉÏù¥ Ïôú Î©îÎ™®Î¶¨ Ï∏°Î©¥ÏóêÏÑú ÏïïÎèÑÏ†ÅÏúºÎ°ú Ïú†Î¶¨ÌïúÏßÄ Ïù¥ Î†àÏù¥ÏïÑÏõÉÏù¥ Ï¶ùÎ™ÖÌï¥ Ï§çÎãàÎã§.
{: .prompt-tip }

### Case 2. Îã®Ïàú ÏÉÅÏÜç

Î∂ÄÎ™® ÌÅ¥ÎûòÏä§(Base)Î•º ÏûêÏãù ÌÅ¥ÎûòÏä§(Derived)Í∞Ä ÌôïÏû•ÌïòÎäî Ï†ÑÌòïÏ†ÅÏù∏ ÏÉÅÏÜç ÏãúÎÇòÎ¶¨Ïò§ÏûÖÎãàÎã§. Ïù¥ Í≥ºÏ†ïÏóêÏÑú JVMÏù¥ Î∂ÄÎ™®Î°úÎ∂ÄÌÑ∞ Î¨ºÎ†§Î∞õÏùÄ ÌïÑÎìúÏôÄ ÏûêÏãùÏù¥ ÏÉàÎ°ú Ï∂îÍ∞ÄÌïú ÌïÑÎìúÎ•º Ïñ¥Îñ§ ÏàúÏÑúÎ°ú Î∞∞ÏπòÌïòÎ©∞, Î∂ÄÎ™® ÌÉÄÏûÖÏúºÎ°úÏùò ÌòïÎ≥ÄÌôò(Upcasting) ÏãúÏóêÎèÑ Îç∞Ïù¥ÌÑ∞ Ï†ëÍ∑º ÏÜçÎèÑÎ•º Ïñ¥ÎñªÍ≤å Ïú†ÏßÄÌïòÎäîÏßÄ Î∂ÑÏÑùÌï©ÎãàÎã§.

Î™®Îì† Îç∞Ïù¥ÌÑ∞Ïùò Í∏∞Î≥∏Ïù¥ ÎêòÎäî `id`Î•º Í∞ÄÏßÑ `BaseEntity`ÏôÄ, Ïù¥Î•º ÏÉÅÏÜçÎ∞õÏïÑ `age` Ï†ïÎ≥¥Î•º Ï∂îÍ∞ÄÌïú `User` ÌÅ¥ÎûòÏä§Î•º Í∞ÄÏ†ïÌï©ÎãàÎã§.

```java
import org.openjdk.jol.info.ClassLayout;
import org.openjdk.jol.vm.VM;

/**
 * ÏÉÅÏÜç Íµ¨Ï°∞ÏóêÏÑúÏùò ÌïÑÎìú ÏÑ†Ìòï ÌôïÏû•Í≥º Ïò§ÌîÑÏÖã Í≥†Ï†ï ÏõêÎ¶¨ Ïã§Ï∏°
 */
public class InheritanceLayoutAnatomy {

    // Î∂ÄÎ™® ÌÅ¥ÎûòÏä§: Í≥†Ïú† IDÎ•º Í∞ÄÏßê
    static class BaseEntity {
        int id; // 4 bytes
    }

    // ÏûêÏãù ÌÅ¥ÎûòÏä§: Î∂ÄÎ™®Î•º ÏÉÅÏÜçÎ∞õÍ≥† ÎÇòÏù¥ Ï†ïÎ≥¥Î•º Ï∂îÍ∞Ä
    static class User extends BaseEntity {
        int age; // 4 bytes
    }

    public static void main(String[] args) {
        // 1. JVM ÌôòÍ≤Ω Ï†ïÎ≥¥ Ï∂úÎ†•
        System.out.println(VM.current().details());
        System.out.println("--------------------------------------------------\n");

        // 2. User Ïù∏Ïä§ÌÑ¥Ïä§ ÏÉùÏÑ±
        User user = new User();

        // 3. Î¨ºÎ¶¨Ï†Å Î©îÎ™®Î¶¨ Î†àÏù¥ÏïÑÏõÉ Ï∂úÎ†•
        System.out.println("=== [User Ïù∏Ïä§ÌÑ¥Ïä§(ÏÉÅÏÜç Íµ¨Ï°∞)Ïùò Î©îÎ™®Î¶¨ ÎèôÏûë Î©îÏª§ÎãàÏ¶ò Î∂ÑÏÑù] ===");
        System.out.println(ClassLayout.parseInstance(user).toPrintable());
    }
}
```

`new User()`Í∞Ä Ìò∏Ï∂úÎêòÏñ¥ Ìûô ÏòÅÏó≠Ïóê Î©îÎ™®Î¶¨Í∞Ä Ìï†ÎãπÎê† Îïå, JVMÏùÄ 'ÏÑ†ÌòïÏ†Å ÎàÑÏ†Å' ÏõêÏπôÏóê Îî∞Îùº Î†àÏù¥ÏïÑÏõÉÏùÑ ÏÑ§Í≥ÑÌï©ÎãàÎã§.

1.  **Í∞ùÏ≤¥ Ìó§Îçî (0~11 Byte)**: Ïù∏Ïä§ÌÑ¥Ïä§Ïùò ÌÉÄÏûÖÏùÄ `User`Ïù¥ÏßÄÎßå, Ìó§ÎçîÎäî Ìï≠ÏÉÅ ÏµúÏÉÅÎã®Ïóê ÏúÑÏπòÌï©ÎãàÎã§. Klass WordÎäî `User` ÌÅ¥ÎûòÏä§Ïùò Î©îÌÉÄÎç∞Ïù¥ÌÑ∞Î•º Í∞ÄÎ¶¨ÌÇµÎãàÎã§.
2.  **Î∂ÄÎ™® ÌïÑÎìú Ïö∞ÏÑ† Î∞∞Ïπò (12~15 Byte)**: ÏûêÏãùÏùò ÌïÑÎìúÎ≥¥Îã§ Î∂ÄÎ™®Ïù∏ `BaseEntity`Ïùò `int id`Í∞Ä Î®ºÏ†Ä Î∞∞ÏπòÎê©ÎãàÎã§. Ïù¥Îäî Îß§Ïö∞ Ï§ëÏöîÌïú ÏÑ§Í≥ÑÏ†Å Í≤∞Ï†ïÏûÖÎãàÎã§. `User` Ïù∏Ïä§ÌÑ¥Ïä§Î•º `BaseEntity` ÌÉÄÏûÖÏúºÎ°ú Î∞îÎùºÎ≥¥ÎçîÎùºÎèÑ `id` ÌïÑÎìúÏùò Ïò§ÌîÑÏÖã(12Î≤à)Ïù¥ Î≥ÄÌïòÏßÄ ÏïäÏïÑÏïº ÌïòÍ∏∞ ÎïåÎ¨∏ÏûÖÎãàÎã§.
3.  **ÏûêÏãù ÌïÑÎìú ÌôïÏû• (16~19 Byte)**: Î∂ÄÎ™®Ïùò Îç∞Ïù¥ÌÑ∞ ÏòÅÏó≠Ïù¥ ÎÅùÎÇòÎäî ÏßÄÏ†ê Î∞îÎ°ú Îí§Ïóê `User` ÌÅ¥ÎûòÏä§Ïùò Í≥†Ïú† ÌïÑÎìúÏù∏ `int age`Í∞Ä Î∂ôÏäµÎãàÎã§.
4.  **Ï†ÑÏ≤¥ Ï†ïÎ†¨ Ìå®Îî© (20~23 Byte)**: Ï¥ù 20Î∞îÏù¥Ìä∏Ïùò Îç∞Ïù¥ÌÑ∞Î•º 8Î∞îÏù¥Ìä∏ Í≤ΩÍ≥ÑÏóê ÎßûÏ∂îÍ∏∞ ÏúÑÌï¥ ÎßàÏßÄÎßâÏóê 4Î∞îÏù¥Ìä∏ Ìå®Îî©Ïù¥ Ï∂îÍ∞ÄÎêòÏñ¥ Ï¥ù 24Î∞îÏù¥Ìä∏Í∞Ä Îê©ÎãàÎã§.

![](/assets/img/2026-01-14-20-07-09.png)

Ïù¥ Î©îÏª§ÎãàÏ¶òÏùÑ ÌÜµÌï¥ JVMÏùÄ Îã§ÌòïÏÑ±ÏùÑ ÏßÄÏõêÌï©ÎãàÎã§. Ïã§Ìñâ ÏóîÏßÑÏùÄ Í∞ùÏ≤¥Í∞Ä `BaseEntity`Ïù∏ÏßÄ `User`Ïù∏ÏßÄ ÏÉÅÍ¥ÄÏóÜÏù¥ "Í∞ùÏ≤¥ ÏãúÏûëÏ†êÏúºÎ°úÎ∂ÄÌÑ∞ 12Î∞îÏù¥Ìä∏ Îñ®Ïñ¥ÏßÑ Í≥≥Ïóê `id`Í∞Ä ÏûàÎã§"Îäî ÏÇ¨Ïã§ÏùÑ Ïã†Î¢∞Ìï† Ïàò ÏûàÏäµÎãàÎã§. ÏÉÅÏÜçÏùÄ Î©îÎ™®Î¶¨ Í¥ÄÏ†êÏóêÏÑú Î≥¥Î©¥ Îã®ÏàúÌûà Î∂ÄÎ™®Ïùò ÏÑ§Í≥ÑÎèÑ Îí§Ïóê ÏûêÏãùÏùò ÏÑ§Í≥ÑÎèÑÎ•º 'Ïù¥Ïñ¥ Î∂ôÏù¥Îäî' ÏûëÏóÖÏù∏ ÏÖàÏûÖÎãàÎã§.

> **Padding Gap**
> 
> Î∂ÄÎ™® ÌÅ¥ÎûòÏä§Ïùò ÎßàÏßÄÎßâ ÌïÑÎìúÍ∞Ä 4Î∞îÏù¥Ìä∏(`int`)Î°ú ÎÅùÎÇòÍ≥† ÏûêÏãù ÌÅ¥ÎûòÏä§Ïùò Ï≤´ ÌïÑÎìúÍ∞Ä 8Î∞îÏù¥Ìä∏(`long`)Ïù∏ Í≤ΩÏö∞, 8Î∞îÏù¥Ìä∏ Ï†ïÎ†¨ÏùÑ ÎßûÏ∂îÍ∏∞ ÏúÑÌï¥ Î∂ÄÎ™®ÏôÄ ÏûêÏãù ÏòÅÏó≠ ÏÇ¨Ïù¥Ïóê 4Î∞îÏù¥Ìä∏Ïùò Îπà Í≥µÍ∞Ñ(Gap)Ïù¥ ÏÉùÍ∏∏ Ïàò ÏûàÏäµÎãàÎã§. JVMÏùÄ Ïù¥ ÌãàÏÉàÎ•º Ìö®Ïú®Ï†ÅÏúºÎ°ú ÌôúÏö©ÌïòÍ∏∞ ÏúÑÌï¥ ÏûêÏãùÏùò ÏûëÏùÄ ÌïÑÎìúÎì§ÏùÑ ÏúÑÎ°ú ÎÅåÏñ¥Ïò¨Î¶¨Îäî ÏµúÏ†ÅÌôîÎ•º ÏãúÎèÑÌïòÍ∏∞ÎèÑ Ìï©ÎãàÎã§.
{: .prompt-info }

### Case 3. Îã§Îã®Í≥Ñ ÏÉÅÏÜç

Ï°∞Î∂ÄÎ™® ÌÅ¥ÎûòÏä§Î∂ÄÌÑ∞ Î∂ÄÎ™®Î•º Í±∞Ï≥ê ÏÜêÏûê ÌÅ¥ÎûòÏä§ÍπåÏßÄ Ïù¥Ïñ¥ÏßÄÎäî ÍπäÏùÄ ÏÉÅÏÜç Í≥ÑÏ∏µÏóêÏÑúÏùò Î©îÎ™®Î¶¨ Î†àÏù¥ÏïÑÏõÉÏùÑ Î∂ÑÏÑùÌï©ÎãàÎã§. Ïó¨Îü¨ Îã®Í≥ÑÏùò ÏÉÅÏÜçÏù¥ Î∞úÏÉùÌï† Îïå JVMÏù¥ Í∞Å Í≥ÑÏ∏µÏùò Îç∞Ïù¥ÌÑ∞Î•º Ïñ¥ÎñªÍ≤å ÏàúÏ∞®Ï†ÅÏúºÎ°ú Ï†ÅÏ∏µ(Stacking)ÌïòÎ©∞, Ïù¥ Í≥ºÏ†ïÏóêÏÑú Î∞úÏÉùÌïòÎäî ÎàÑÏ†ÅÎêú Ìå®Îî©(Padding)Ïù¥ Ï†ÑÏ≤¥ Ïù∏Ïä§ÌÑ¥Ïä§ ÌÅ¨Í∏∞Ïóê Ïñ¥Îñ§ ÏòÅÌñ•ÏùÑ ÎØ∏ÏπòÎäîÏßÄ ÌôïÏù∏Ìï©ÎãàÎã§.

Ï†ÑÏûê Í∏∞Í∏∞Ïùò Ï†ïÎ≥¥Î•º Îã¥Îäî `Device` ÌÅ¥ÎûòÏä§, Ïù¥Î•º ÏÉÅÏÜçÎ∞õÏùÄ `Computer`, Í∑∏Î¶¨Í≥† ÏµúÏ¢ÖÏ†ÅÏúºÎ°ú `Laptop` ÌÅ¥ÎûòÏä§Î°ú Ïù¥Ïñ¥ÏßÄÎäî 3Îã®Í≥Ñ Íµ¨Ï°∞Î•º Í∞ÄÏ†ïÌï©ÎãàÎã§.

```java
import org.openjdk.jol.info.ClassLayout;
import org.openjdk.jol.vm.VM;

/**
 * Îã§Îã®Í≥Ñ ÏÉÅÏÜçÏóêÏÑúÏùò ÌïÑÎìú Ï†ÅÏ∏µ(Stacking)Í≥º ÎàÑÏ†Å Ìå®Îî© Ïã§Ï∏°
 */
public class MultiLevelInheritanceAnatomy {

    // Ï°∞Î∂ÄÎ™® ÌÅ¥ÎûòÏä§ (GrandParent)
    static class Device {
        long serial; // 8 bytes
    }

    // Î∂ÄÎ™® ÌÅ¥ÎûòÏä§ (Parent)
    static class Computer extends Device {
        int cpu;     // 4 bytes
    }

    // ÏÜêÏûê ÌÅ¥ÎûòÏä§ (Child)
    static class Laptop extends Computer {
        short weight; // 2 bytes
    }

    public static void main(String[] args) {
        // 1. JVM ÌôòÍ≤Ω Ï†ïÎ≥¥ Ï∂úÎ†•
        System.out.println(VM.current().details());
        System.out.println("----------------------------------\n");

        // 2. Laptop Ïù∏Ïä§ÌÑ¥Ïä§ ÏÉùÏÑ±
        Laptop laptop = new Laptop();

        // 3. Î¨ºÎ¶¨Ï†Å Î©îÎ™®Î¶¨ Î†àÏù¥ÏïÑÏõÉ Ï∂úÎ†•
        System.out.println("=== [Laptop Ïù∏Ïä§ÌÑ¥Ïä§(3Îã®Í≥Ñ ÏÉÅÏÜç)Ïùò Î©îÎ™®Î¶¨ ÎèôÏûë Î©îÏª§ÎãàÏ¶ò Î∂ÑÏÑù] ===");
        System.out.println(ClassLayout.parseInstance(laptop).toPrintable());
    }
}
```

`new Laptop()`Ïù¥ Ìò∏Ï∂úÎêòÎ©¥ JVMÏùÄ ÏµúÏÉÅÏúÑ Ï°∞ÏÉÅÎ∂ÄÌÑ∞ ÏµúÌïòÏúÑ ÏûêÏãùÍπåÏßÄÏùò Î™®Îì† ÌïÑÎìúÎ•º ÌïòÎÇòÏùò Îç∞Ïù¥ÌÑ∞ ÌíÄÎ°ú Í∞ÑÏ£ºÌïòÍ≥†, Î©îÎ™®Î¶¨ ÎÇ≠ÎπÑÎ•º ÏµúÏÜåÌôîÌïòÍ∏∞ ÏúÑÌï¥ ÌïÑÎìú Î∞∞ÏπòÎ•º Ïû¨Íµ¨ÏÑ±Ìï©ÎãàÎã§.

1. **ÏµúÏÉÅÏúÑ Ìó§Îçî (0~11 Byte)**: Í∞ùÏ≤¥Ïùò Ï†ïÏ≤¥ÏÑ±ÏùÑ Ï†ïÏùòÌïòÎäî 12Î∞îÏù¥Ìä∏ Ìó§ÎçîÍ∞Ä ÏúÑÏπòÌïòÎ©∞, 64ÎπÑÌä∏ ÌôòÍ≤ΩÏóêÏÑú Ìó§ÎçîÍ∞Ä 12Î≤àÏßÄÏóêÏÑú Ï¢ÖÎ£åÎê®Ïóê Îî∞Îùº 12~15Î≤àÏßÄÏóê 4Î∞îÏù¥Ìä∏ ÌÅ¨Í∏∞Ïùò **'Ìó§Îçî ÎπàÌãà(Header Gap)'**Ïù¥ Î∞úÏÉùÌï©ÎãàÎã§.
2. **ÌãàÏÉà Í≥µÎûµ Î∞è Ïû¨Î∞∞Ïπò (12~15 Byte)**: ÏõêÎûò Ï°∞Î∂ÄÎ™®Ïùò `long serial`Ïù¥ Ïò¨ Ï∞®Î°ÄÏßÄÎßå, 8Î∞îÏù¥Ìä∏ Ï†ïÎ†¨ Í∑úÏπôÏÉÅ 12Î≤àÏßÄÏóê Îì§Ïñ¥Í∞à Ïàò ÏóÜÏäµÎãàÎã§. JVMÏùÄ Ïù¥ 4Î∞îÏù¥Ìä∏ ÌãàÏùÑ Î©îÏö∞Í∏∞ ÏúÑÌï¥ ÏÉÅÏÜç Í≥ÑÏ∏µÏùÑ Îí§Ï†∏ Î∂ÄÎ™® ÌÅ¥ÎûòÏä§Ïùò `int Computer.cpu`Î•º ÏµúÏÉÅÎã®ÏúºÎ°ú Ï†ÑÏßÑ Î∞∞ÏπòÌïòÎäî ÏµúÏ†ÅÌôîÎ•º ÏàòÌñâÌï©ÎãàÎã§.
3. **GrandParent ÏòÅÏó≠ (16~23 Byte)**: 4Î∞îÏù¥Ìä∏ ÎπàÌãàÏù¥ Î©îÏõåÏßÑ ÎçïÎ∂ÑÏóê Îã§Ïùå Í∞ÄÏö©Ìïú Ïò§ÌîÑÏÖãÏù¥ 8Ïùò Î∞∞ÏàòÏù∏ 16Î≤àÏßÄÎ°ú Ï°∞Ï†ïÎê©ÎãàÎã§. Ïù¥Ï†ú Ï°∞Î∂ÄÎ™® ÌÅ¥ÎûòÏä§Ïùò `long Device.serial`Ïù¥ Î¨ºÎ¶¨Ï†Å Ï†ïÎ†¨ Í∑úÏπôÏóê ÎßûÏ∂∞ ÏïàÏ†ïÏ†ÅÏúºÎ°ú ÏïàÏ∞©Ìï©ÎãàÎã§.
4. **Child ÏòÅÏó≠ (24~25 Byte)**: Î∂ÄÎ™®Îì§Ïùò Îç∞Ïù¥ÌÑ∞ Î∞∞ÏπòÍ∞Ä ÎÅùÎÇú ÏßÄÏ†ê Î∞îÎ°ú Îí§Ïóê ÏÜêÏûê ÌÅ¥ÎûòÏä§Ïùò Í≥†Ïú† ÌïÑÎìúÏù∏ `short Laptop.weight`Í∞Ä 2Î∞îÏù¥Ìä∏Î•º Ï∞®ÏßÄÌïòÎ©∞ ÏÑ†ÌòïÏ†ÅÏúºÎ°ú ÌôïÏû•Îê©ÎãàÎã§.
5. **ÏµúÏ¢Ö Ìå®Îî© (26~31 Byte)**: ÌòÑÏû¨ÍπåÏßÄ ÏÇ¨Ïö©Îêú Îç∞Ïù¥ÌÑ∞Îäî Ï¥ù 26Î∞îÏù¥Ìä∏ÏûÖÎãàÎã§. 8Î∞îÏù¥Ìä∏ Í≤ΩÍ≥Ñ Ï†ïÎ†¨ÏùÑ ÏôÑÍ≤∞ÌïòÍ∏∞ ÏúÑÌï¥ JVMÏùÄ ÎßàÏßÄÎßâÏóê **6Î∞îÏù¥Ìä∏Ïùò Í±∞ÎåÄÌïú Ìå®Îî©**ÏùÑ Ï∂îÍ∞ÄÌïòÏó¨ ÏµúÏ¢Ö 32Î∞îÏù¥Ìä∏Ïùò Î©îÎ™®Î¶¨ Î∏îÎ°ùÏùÑ ÏôÑÏÑ±Ìï©ÎãàÎã§.

![](/assets/img/2026-01-14-20-08-10.png)

> **ÍπäÏùÄ ÏÉÅÏÜçÏùò ÎπÑÏö©**
> 
> ÏÉÅÏÜçÏùÄ 'Is-A' Í¥ÄÍ≥ÑÎ•º ÌëúÌòÑÌïòÎäî Í∞ïÎ†•Ìïú ÎèÑÍµ¨Ïù¥ÏßÄÎßå, Î©îÎ™®Î¶¨ Í¥ÄÏ†êÏóêÏÑúÎäî Ï°∞ÏÉÅÎì§Ïù¥ ÎÇ®Í∏¥ Î™®Îì† Îç∞Ïù¥ÌÑ∞ Î∂ÄÏ±ÑÎ•º ÏûêÏãùÏù¥ ÏßäÏñ¥ÏßÄÎäî Í≥ºÏ†ïÏûÖÎãàÎã§. ÏÉÅÏÜç Í≥ÑÏ∏µÏù¥ ÎÑàÎ¨¥ ÍπäÏñ¥ÏßÄÎ©¥ Í∞ùÏ≤¥ ÌïòÎÇòÎ•º ÏÉùÏÑ±Ìï† ÎïåÎßàÎã§ Î∂àÌïÑÏöîÌïú Î©îÌÉÄÎç∞Ïù¥ÌÑ∞ÏôÄ Ìå®Îî©Ïù¥ ÎàÑÏ†ÅÎêòÎØÄÎ°ú, Îç∞Ïù¥ÌÑ∞ ÏßëÏïΩÏ†ÅÏù∏ ÏãúÏä§ÌÖúÏóêÏÑúÎäî ÏÉÅÏÜçÎ≥¥Îã§Îäî 'Ï°∞Ìï©(Composition)'ÏùÑ Í∂åÏû•ÌïòÎäî Î¨ºÎ¶¨Ï†ÅÏù∏ Ïù¥Ïú†Í∞Ä Ïó¨Í∏∞Ïóê ÏûàÏäµÎãàÎã§.
{: .prompt-warning }

### Case 4. ÌïÑÎìú ÏâêÎèÑÏûâ

Î∂ÄÎ™® ÌÅ¥ÎûòÏä§Ïóê Ï†ïÏùòÎêú ÌïÑÎìúÏôÄ ÎèôÏùºÌïú Ïù¥Î¶ÑÏùÑ Í∞ÄÏßÑ ÌïÑÎìúÎ•º ÏûêÏãù ÌÅ¥ÎûòÏä§ÏóêÏÑú Îã§Ïãú ÏÑ†Ïñ∏ÌïòÎäî Í≤ΩÏö∞ÏûÖÎãàÎã§. ÏûêÎ∞îÏóêÏÑú Î©îÏÑúÎìúÎäî Ïò§Î≤ÑÎùºÏù¥Îî©(Overriding)ÏùÑ ÌÜµÌï¥ Î∂ÄÎ™®Ïùò Íµ¨ÌòÑÏùÑ ÏôÑÏ†ÑÌûà ÎåÄÏ≤¥ÌïòÏßÄÎßå, ÌïÑÎìúÎäî **'ÏâêÎèÑÏûâ(Shadowing)'**Ïù¥Îùº Î∂àÎ¶¨Îäî Ï†ÑÌòÄ Îã§Î•∏ Î©îÏª§ÎãàÏ¶òÏùÑ Îî∞Î¶ÖÎãàÎã§. Ïù¥ ÏÇ¨Î°ÄÎ•º ÌÜµÌï¥ Î¨ºÎ¶¨Ï†Å Î©îÎ™®Î¶¨ Í≥ÑÏ∏µÏóêÏÑú Ïù¥Î¶ÑÏù¥ Í∞ôÏùÄ Îëê Îç∞Ïù¥ÌÑ∞Í∞Ä Ïñ¥ÎñªÍ≤å Í≥µÏ°¥ÌïòÎ©∞, Ï∞∏Ï°∞ ÌÉÄÏûÖÏóê Îî∞Îùº Ï†ëÍ∑º ÏßÄÏ†êÏù¥ Ïñ¥ÎñªÍ≤å Îã¨ÎùºÏßÄÎäîÏßÄ Ìï¥Î∂ÄÌï©ÎãàÎã§.

Í∏∞Î≥∏ Î≥¥ÎÑàÏä§ Ï†êÏàòÎ•º Í∞ÄÏßÑ `Account` ÌÅ¥ÎûòÏä§ÏôÄ, Ïù¥Î•º ÏÉÅÏÜçÎ∞õÏïÑ Îçî ÎÜíÏùÄ Î≥¥ÎÑàÏä§ Ï†êÏàòÎ•º ÎèôÏùºÌïú ÌïÑÎìúÎ™Ö(`bonus`)ÏúºÎ°ú Ïû¨Ï†ïÏùòÌïú `VIPAccount` ÌÅ¥ÎûòÏä§Î•º Í∞ÄÏ†ïÌï©ÎãàÎã§.

```java
/**
 * ÌïÑÎìú ÏâêÎèÑÏûâ(Field Shadowing)Ïóê ÏùòÌïú Î¨ºÎ¶¨Ï†Å Î©îÎ™®Î¶¨ Í≥µÏ°¥ Î∞è Ï†ïÏ†Å Î∞îÏù∏Îî© Ïã§Ï∏°
 */
public class FieldShadowingAnatomy {

    static class Account {
        int bonus = 100; // Î∂ÄÎ™®Ïùò Î≥¥ÎÑàÏä§
    }

    static class VIPAccount extends Account {
        int bonus = 500; // ÏûêÏãùÏùò Î≥¥ÎÑàÏä§ (Shadowing)
    }

    public static void main(String[] args) {
        System.out.println(VM.current().details());
        System.out.println("----------------------------------\n");

        VIPAccount vip = new VIPAccount();
        Account accountRef = vip; // ÏóÖÏ∫êÏä§ÌåÖ

        // 1. Ï∞∏Ï°∞ ÌÉÄÏûÖÎ≥Ñ ÌïÑÎìú Ï†ëÍ∑º Í≤∞Í≥º (Ï†ïÏ†Å Î∞îÏù∏Îî© ÌôïÏù∏)
        System.out.println("=== [Ï∞∏Ï°∞ ÌÉÄÏûÖÏóê Îî∞Î•∏ ÌïÑÎìú Ï†ëÍ∑º Í≤∞Í≥º] ===");
        System.out.println("VIPAccount ref bonus: " + vip.bonus);        // ÏûêÏãù ÌïÑÎìú Ï†ëÍ∑º
        System.out.println("Account ref bonus:    " + accountRef.bonus); // Î∂ÄÎ™® ÌïÑÎìú Ï†ëÍ∑º
        System.out.println();

        // 2. Î¨ºÎ¶¨Ï†Å Î©îÎ™®Î¶¨ Î†àÏù¥ÏïÑÏõÉ Ï∂úÎ†•
        System.out.println("=== [VIPAccount Ïù∏Ïä§ÌÑ¥Ïä§Ïùò Î©îÎ™®Î¶¨ Îßµ (Field Shadowing)] ===");
        System.out.println(ClassLayout.parseInstance(vip).toPrintable());
    }
}
```

`new VIPAccount()`Í∞Ä Ïã§ÌñâÎêòÎ©¥ JVMÏùÄ "Ïù¥Î¶ÑÏù¥ Í∞ôÏúºÎãà ÌïòÎÇòÎ•º ÎçÆÏñ¥Ïì∞Ïûê"Í≥† ÌåêÎã®ÌïòÏßÄ ÏïäÏäµÎãàÎã§. ÎåÄÏã† Î∂ÄÎ™®Ïùò Îç∞Ïù¥ÌÑ∞ ÏòÅÏó≠Í≥º ÏûêÏãùÏùò Îç∞Ïù¥ÌÑ∞ ÏòÅÏó≠Ïóê Í∞ÅÍ∞ÅÏùò Í≥µÍ∞ÑÏùÑ ÎèÖÎ¶ΩÏ†ÅÏúºÎ°ú Ìï†ÎãπÌï©ÎãàÎã§.

1.  **Î∂ÄÎ™® ÏòÅÏó≠ ÌïÑÎìú (12~15 Byte)**: `Account` ÌÅ¥ÎûòÏä§ÏóêÏÑú Ï†ïÏùòÌïú `int bonus` ÌïÑÎìúÍ∞Ä Î∂ÄÎ™® ÏòÅÏó≠ Ïò§ÌîÑÏÖãÏóê Î®ºÏ†Ä Î∞∞ÏπòÎê©ÎãàÎã§.
2.  **ÏûêÏãù ÏòÅÏó≠ ÌïÑÎìú (16~19 Byte)**: `VIPAccount` ÌÅ¥ÎûòÏä§ÏóêÏÑú ÏÉàÎ°ú ÏÑ†Ïñ∏Ìïú `int bonus` ÌïÑÎìúÍ∞Ä ÏûêÏãù ÏòÅÏó≠ Ïò§ÌîÑÏÖãÏóê Î≥ÑÎèÑÎ°ú Î∞∞ÏπòÎê©ÎãàÎã§.
3.  **Î©îÎ™®Î¶¨ ÎßµÏùò Í≥µÏ°¥**: Í≤∞Í≥ºÏ†ÅÏúºÎ°ú ÌïòÎÇòÏùò Ïù∏Ïä§ÌÑ¥Ïä§ ÎÇ¥Î∂ÄÏóê Ïù¥Î¶ÑÏù¥ 'bonus'Ïù∏ Í≥µÍ∞ÑÏù¥ Îëê Í∞ú Ï°¥Ïû¨ÌïòÍ≤å Îê©ÎãàÎã§. ÌïòÎÇòÎäî Î∂ÄÎ™®Ïùò Í≤ÉÏù¥Í≥†, Îã§Î•∏ ÌïòÎÇòÎäî ÏûêÏãùÏùò Í≤ÉÏûÖÎãàÎã§.

![](/assets/img/2026-01-14-20-09-07.png)

Ïù¥Îü¨Ìïú Î¨ºÎ¶¨Ï†Å Î∞∞ÏπòÎäî ÏûêÎ∞îÏùò **ÌïÑÎìú Ï†ëÍ∑ºÏù¥ Ï†ïÏ†Å Î∞îÏù∏Îî©(Static Binding)**ÏùÑ Îî∞Î•¥Í∏∞ ÎïåÎ¨∏Ïóê Î∞úÏÉùÌï©ÎãàÎã§. Ïª¥ÌååÏùºÎü¨Îäî ÏÜåÏä§ ÏΩîÎìúÏóêÏÑú `account.bonus`Î•º Î∞úÍ≤¨ÌïòÎ©¥, Ïã§Ìñâ ÏãúÏ†êÏùò Ïã§Ï†ú Í∞ùÏ≤¥Í∞Ä Î¨¥ÏóáÏù∏ÏßÄ Î¨ªÏßÄ ÏïäÍ≥† `account` Î≥ÄÏàòÏùò **'ÌÉÄÏûÖ'**ÏùÑ Í∏∞Ï§ÄÏúºÎ°ú Ïù¥ÎØ∏ Í≤∞Ï†ïÎêú Î©îÎ™®Î¶¨ Ïò§ÌîÑÏÖã Ï£ºÏÜåÎ•º ÏΩîÎìúÏóê Î∞ïÏïÑ ÎÑ£ÏäµÎãàÎã§.

Î∂ÄÎ™® ÌÉÄÏûÖÏúºÎ°ú Ï†ëÍ∑ºÌïòÎ©¥ 12Î≤à Ïò§ÌîÑÏÖãÏùÑ ÏùΩÍ≥†, ÏûêÏãù ÌÉÄÏûÖÏúºÎ°ú Ï†ëÍ∑ºÌïòÎ©¥ 16Î≤à Ïò§ÌîÑÏÖãÏùÑ ÏùΩÎäî ÏãùÏûÖÎãàÎã§. Ïù¥Îäî VTableÏùÑ ÌÜµÌï¥ Ïã§Ìñâ Ï£ºÏÜåÎ•º Ï∞æÏïÑÍ∞ÄÎäî Î©îÏÑúÎìú Ìò∏Ï∂ú(Dynamic Dispatch)Í≥ºÎäî ÏôÑÏ†ÑÌûà ÎåÄÏ°∞Ï†ÅÏù∏ ÎèôÏûëÏûÖÎãàÎã§. Îç∞Ïù¥ÌÑ∞Ïùò Î¨¥Í≤∞ÏÑ±ÏùÑ ÏßÄÌÇ§Í∏∞ ÏúÑÌï¥ JVMÏùÄ Ïù¥Î¶ÑÏùÑ Î≤ÑÎ¶¨Í≥† Ïò§Î°úÏßÄ **'Ïò§ÌîÑÏÖã Ï£ºÏÜå'**Î°úÎßå ÏÜåÌÜµÌïòÎäî ÏÖàÏûÖÎãàÎã§.

> **ÌïÑÎìú ÏâêÎèÑÏûâÏùò ÏúÑÌóòÏÑ±**
> 
> ÌïÑÎìú ÏâêÎèÑÏûâÏùÄ ÏΩîÎìúÏùò Í∞ÄÎèÖÏÑ±ÏùÑ Ïã¨Í∞ÅÌïòÍ≤å Ìï¥Ïπ† ÎøêÎßå ÏïÑÎãàÎùº, Î©îÎ™®Î¶¨ Îç§ÌîÑ Î∂ÑÏÑù Ïãú ÌòºÎûÄÏùÑ ÏïºÍ∏∞Ìï©ÎãàÎã§. ÎèôÏùºÌïú Ïù∏Ïä§ÌÑ¥Ïä§ ÎÇ¥Ïóê Í∞ôÏùÄ Ïù¥Î¶ÑÏùò Î≥ÄÏàòÍ∞Ä Îëê Í∞ú Ï°¥Ïû¨ÌïúÎã§Îäî Í≤ÉÏùÄ Î©îÎ™®Î¶¨ ÎÇ≠ÎπÑÏùº ÎøêÎßå ÏïÑÎãàÎùº ÏùòÎèÑÏπò ÏïäÏùÄ Î≤ÑÍ∑∏Ïùò Ïò®ÏÉÅÏù¥ Îê©ÎãàÎã§. ÎßåÏïΩ Î∂ÄÎ™®Ïùò ÌïÑÎìú Í∞íÏùÑ Î≥ÄÍ≤ΩÌï¥Ïïº Ìï† ÏÉÅÌô©ÏóêÏÑú ÏûêÏãùÏùò ÏâêÎèÑÏûâÎêú ÌïÑÎìúÎßå ÏàòÏ†ïÌïúÎã§Î©¥, Î∂ÄÎ™® ÌÉÄÏûÖÏúºÎ°ú Ï∫êÏä§ÌåÖÎêòÏñ¥ ÎèôÏûëÌïòÎäî Î°úÏßÅÏùÄ Ïó¨Ï†ÑÌûà ÏòõÎÇ† Îç∞Ïù¥ÌÑ∞Î•º Î∞îÎùºÎ≥¥Í≤å Îê† Í≤ÉÏûÖÎãàÎã§.
{: .prompt-warning }

### Case 5. Îã®Ïùº Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ Íµ¨ÌòÑ

ÌÅ¥ÎûòÏä§ ÏÉÅÏÜçÍ≥ºÎäî Î≥ÑÍ∞úÎ°ú, ÌäπÏ†ï Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Î•º ÌïòÎÇò Íµ¨ÌòÑÌñàÏùÑ ÎïåÏùò Î©îÎ™®Î¶¨ Î≥ÄÌôîÎ•º Ï∂îÏ†ÅÌï©ÎãàÎã§. Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Îäî ÌÅ¥ÎûòÏä§ Í≥ÑÏ∏µ Íµ¨Ï°∞Ïóê Ï¢ÖÏÜçÎêòÏßÄ ÏïäÏúºÎØÄÎ°ú VTableÏùò Í≥†Ï†ï Ïù∏Îç±Ïä§Î•º ÏÇ¨Ïö©Ìï† Ïàò ÏóÜÏäµÎãàÎã§. Ïù¥ ÏãúÎÇòÎ¶¨Ïò§ÏóêÏÑúÎäî JVMÏù¥ Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ Î©îÏÑúÎìú Ìò∏Ï∂úÏùÑ ÏúÑÌï¥ ÎèÑÏûÖÌïú **ITable(Interface Method Table)**Ïù¥ ÌÅ¥ÎûòÏä§ Î©îÌÉÄÎç∞Ïù¥ÌÑ∞ ÎÇ¥Ïóê Ïñ¥ÎñªÍ≤å ÏÉùÏÑ±ÎêòÎ©∞, Ïù∏Ïä§ÌÑ¥Ïä§ Î†àÏù¥ÏïÑÏõÉÍ≥ºÎäî Ïñ¥Îñ§ Ï∞∏Ï°∞ Í¥ÄÍ≥ÑÎ•º Îß∫ÎäîÏßÄ Î∂ÑÏÑùÌï©ÎãàÎã§.

ÎπÑÌñâ Í∏∞Îä•ÏùÑ Ï†ïÏùòÌïú `Flyable` Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ÏôÄ, Ïù¥Î•º Íµ¨ÌòÑÌïòÏó¨ Ïã§Ï†ú ÎπÑÌñâ Î°úÏßÅÏùÑ Í∞ÄÏßÑ `Drone` ÌÅ¥ÎûòÏä§Î•º Í∞ÄÏ†ïÌï©ÎãàÎã§. `Drone`ÏùÄ ÎÇ¥Î∂ÄÏóê `battery` ÏÉÅÌÉúÎ•º Í∞ÄÏßëÎãàÎã§.

```java
import org.openjdk.jol.info.ClassLayout;
import org.openjdk.jol.vm.VM;

/**
 * Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ Íµ¨ÌòÑÏóê Îî∞Î•∏ Ïù∏Ïä§ÌÑ¥Ïä§ Î†àÏù¥ÏïÑÏõÉ Ïú†ÏßÄ Î∞è ITable Í∞ÑÏ†ë Ï∞∏Ï°∞ Î∂ÑÏÑù
 */
public class InterfaceImplementationAnatomy {

    // Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ Ï†ïÏùò (Îä•Î†• Î∂ÄÏó¨)
    interface Flyable {
        void fly();
    }

    // Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ Íµ¨ÌòÑ ÌÅ¥ÎûòÏä§ (ÏÉÅÌÉú + Íµ¨ÌòÑ)
    static class Drone implements Flyable {
        int battery = 100;

        @Override
        public void fly() {
            System.out.println("Drone is flying... Battery: " + battery + "%");
        }
    }

    public static void main(String[] args) {
        // 1. JVM ÌôòÍ≤Ω Ï†ïÎ≥¥
        System.out.println(VM.current().details());
        System.out.println("----------------------------------\n");

        // 2. Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ ÌÉÄÏûÖÏúºÎ°ú Ïù∏Ïä§ÌÑ¥Ïä§ Ï∞∏Ï°∞
        Flyable drone = new Drone();

        // 3. Ïù∏Ïä§ÌÑ¥Ïä§ Î†àÏù¥ÏïÑÏõÉ Ï∂úÎ†• (Heap ÏòÅÏó≠ ÌôïÏù∏)
        System.out.println("=== [Drone Ïù∏Ïä§ÌÑ¥Ïä§Ïùò Î©îÎ™®Î¶¨ Îßµ (Heap)] ===");
        System.out.println(ClassLayout.parseInstance(drone).toPrintable());

        // 4. Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ Î©îÏÑúÎìú Ìò∏Ï∂ú (invokeinterface ÎèôÏûë ÏãúÎÆ¨Î†àÏù¥ÏÖò)
        System.out.print("drone.fly() Ìò∏Ï∂ú Í≤∞Í≥º: ");
        drone.fly();

        // 5. Klass WordÍ∞Ä Í∞ÄÎ¶¨ÌÇ§Îäî Metaspace Î¨ºÎ¶¨ Ï£ºÏÜå Ï∂îÏ∂ú
        // JOL Ï∂úÎ†•ÏóêÏÑú Î≥∏ VALUEÎäî 'ÏïïÏ∂ïÎêú Î≥ÑÎ™Ö'ÏûÖÎãàÎã§.
        // ÏïÑÎûò ÏΩîÎìúÎäî JVMÏù¥ Í∑∏ Î≥ÑÎ™ÖÏùÑ Ìï¥ÎèÖ(Decoding)ÌïòÏó¨ Ï∞æÏïÑÎÇ∏ 'ÏßÑÏßú 64ÎπÑÌä∏ Ï†àÎåÄ Ï£ºÏÜå'Î•º Í∞ÄÏ†∏ÏòµÎãàÎã§.
        long klassPointer = VM.current().addressOf(drone.getClass());

        System.out.println("\n=== [ITable ÌÉêÏÉâÏùò ÏãúÏûëÏ†ê: Î¨ºÎ¶¨ Ï£ºÏÜå Î∞è ÏòÅÏó≠ Ìï¥ÎèÖ] ===");
        System.out.printf("1. Drone Ïù∏Ïä§ÌÑ¥Ïä§ Ï£ºÏÜå (Heap ÏòÅÏó≠)      : 0x%x%n", VM.current().addressOf(drone));
        System.out.printf("2. Drone ÌÅ¥ÎûòÏä§ Î©îÌÉÄÎç∞Ïù¥ÌÑ∞ Ï£ºÏÜå (Metaspace) : 0x%x%n", klassPointer);
    }
}
```

`Flyable drone = new Drone();` ÏΩîÎìúÍ∞Ä Ïã§ÌñâÎê† Îïå, Î©îÎ™®Î¶¨Ïùò Î¨ºÎ¶¨Ï†Å Î∞∞ÏπòÎäî Îã§ÏùåÍ≥º Í∞ôÏùÄ Ï†ïÍµêÌïú Ïù¥Ï§ë Íµ¨Ï°∞Î•º ÌòïÏÑ±Ìï©ÎãàÎã§.

1.  **Ïù∏Ïä§ÌÑ¥Ïä§ Î†àÏù¥ÏïÑÏõÉ (Heap)**: ÌûôÏóê ÏÉùÏÑ±Îêú `Drone` Ïù∏Ïä§ÌÑ¥Ïä§ ÏûêÏ≤¥Îäî Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ Íµ¨ÌòÑ Ïó¨Î∂ÄÏôÄ ÏÉÅÍ¥ÄÏóÜÏù¥ Ïù¥Ï†Ñ ÏÇ¨Î°ÄÎì§Í≥º ÎèôÏùºÌïú Íµ¨Ï°∞Î•º Ïú†ÏßÄÌï©ÎãàÎã§. Ìó§Îçî(12B) + `int battery`(4B)Î°ú Íµ¨ÏÑ±Îêú 16Î∞îÏù¥Ìä∏ Î∏îÎ°ùÏûÖÎãàÎã§. Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Î•º Íµ¨ÌòÑÌñàÎã§Í≥† Ìï¥ÏÑú Í∞ùÏ≤¥ ÎÇ¥Î∂ÄÏóê ÌäπÎ≥ÑÌïú Îç∞Ïù¥ÌÑ∞Í∞Ä Ï∂îÍ∞ÄÎêòÏßÄÎäî ÏïäÏäµÎãàÎã§.
2.  **Î©îÌÉÄÎç∞Ïù¥ÌÑ∞ ÎÇ¥ ITable ÏÉùÏÑ± (Metaspace)**: ÏßÑÏßú Î≥ÄÌôîÎäî `Drone` ÌÅ¥ÎûòÏä§Ïùò ÏÑ§Í≥ÑÎèÑÏù∏ `InstanceKlass` ÎÇ¥Î∂ÄÏóêÏÑú ÏùºÏñ¥ÎÇ©ÎãàÎã§. JVMÏùÄ ÌÅ¥ÎûòÏä§Î•º Î°úÎî©Ìï† Îïå `Flyable` Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Î•º ÏúÑÌïú Ï†ÑÏö© **ITable** ÏòÅÏó≠ÏùÑ ÌôïÎ≥¥Ìï©ÎãàÎã§.
3.  **Ï∞∏Ï°∞Ïùò ÌùêÎ¶Ñ**: `drone.fly()`Î•º Ìò∏Ï∂úÌïòÎ©¥ Ïã§Ìñâ ÏóîÏßÑÏùÄ Îã§Ïùå Îã®Í≥ÑÎ•º Í±∞Ïπ©ÎãàÎã§.
    * Í∞ùÏ≤¥ Ìó§ÎçîÏùò Klass WordÎ•º ÌÜµÌï¥ `Drone` ÌÅ¥ÎûòÏä§Ïùò Î©îÌÉÄÎç∞Ïù¥ÌÑ∞Î°ú Ïù¥ÎèôÌï©ÎãàÎã§.
    * VTable ÏòÅÏó≠ÏùÑ ÏßÄÎÇò Í∑∏ Îí§Ïóê ÏúÑÏπòÌïú **ITable** ÏòÅÏó≠ÏóêÏÑú `Flyable` Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Ïóê Ìï¥ÎãπÌïòÎäî ÏóîÌä∏Î¶¨Î•º Ï∞æÏäµÎãàÎã§.
    * Ìï¥Îãπ ÏóîÌä∏Î¶¨Í∞Ä Í∞ÄÎ¶¨ÌÇ§Îäî Î©îÏÑúÎìú ÌÖåÏù¥Î∏îÏóêÏÑú `fly()`Ïùò Ïã§Ï†ú Íµ¨ÌòÑ Ï£ºÏÜåÎ•º Ï∞æÏïÑ Ï†êÌîÑÌï©ÎãàÎã§.

Ïù¥ Î©îÏª§ÎãàÏ¶òÏóêÏÑú Ï§ëÏöîÌïú Ï†êÏùÄ **'Í∞ÑÏ†ë Ï∞∏Ï°∞Ïùò Ï∂îÍ∞Ä'**ÏûÖÎãàÎã§. VTableÏùÄ Ïò§ÌîÑÏÖãÏù¥ Í≥†Ï†ïÎêòÏñ¥ ÏûàÏñ¥ Ï¶âÏãú Ï†ëÍ∑ºÏù¥ Í∞ÄÎä•ÌïòÏßÄÎßå, Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Îäî Ìï¥Îãπ ÌÅ¥ÎûòÏä§Í∞Ä Ïñ¥Îñ§ Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Îì§ÏùÑ Íµ¨ÌòÑÌñàÎäîÏßÄ Î™©Î°ùÏùÑ ÌõëÏñ¥Ïïº ÌïòÎØÄÎ°ú Ìïú Îã®Í≥ÑÏùò ÌÉêÏÉâ ÎπÑÏö©Ïù¥ Îçî Î∞úÏÉùÌï©ÎãàÎã§. JVMÏùÄ Îã®Ïùº Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ Íµ¨ÌòÑÏùò Í≤ΩÏö∞ Ïù¥Î•º VTableÏ≤òÎüº ÏµúÏ†ÅÌôîÌïòÎ†§ ÎÖ∏Î†•ÌïòÏßÄÎßå, Íµ¨Ï°∞Ï†ÅÏúºÎ°úÎäî Ïó¨Ï†ÑÌûà ITableÏù¥ÎùºÎäî Î≥ÑÎèÑÏùò Ï£ºÏÜåÎ°ùÏùÑ Ï∞∏Ï°∞ÌïòÍ≤å Îê©ÎãàÎã§.

> **Íµ¨ÌòÑÍ≥º ÌÉÄÏûÖÏùò Î∂ÑÎ¶¨**
> 
> Î©îÎ™®Î¶¨ ÏàòÏ§ÄÏóêÏÑú Î≥¥Î©¥ Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ Íµ¨ÌòÑÏùÄ Í∞ùÏ≤¥Ïùò 'ÏÉÅÌÉú(ÌïÑÎìú)'Î•º Í±¥ÎìúÎ¶¨ÏßÄ ÏïäÍ≥† 'Îä•Î†•(Î©îÏÑúÎìú Ï£ºÏÜåÎ°ù)'Îßå ÌôïÏû•ÌïòÎäî ÏûëÏóÖÏûÖÎãàÎã§. Ïù¥Îäî Îç∞Ïù¥ÌÑ∞ Î†àÏù¥ÏïÑÏõÉÏùò Î≥ÄÌòï ÏóÜÏù¥ÎèÑ Í∞ùÏ≤¥Ïóê ÏÉàÎ°úÏö¥ ÌéòÎ•¥ÏÜåÎÇòÎ•º Î∂ÄÏó¨Ìï† Ïàò ÏûàÍ≤å ÌïòÎ©∞, ÏûêÎ∞î Îã§ÌòïÏÑ±Ïù¥ ÌÅ¥ÎûòÏä§ÎùºÎäî Îã®Îã®Ìïú ÌãÄÏùÑ ÎÑòÏñ¥ Ïú†Ïó∞ÌïòÍ≤å ÌôïÏû•Îê† Ïàò ÏûàÎäî Î¨ºÎ¶¨Ï†Å ÌÜ†ÎåÄÍ∞Ä Îê©ÎãàÎã§.
{: .prompt-info }

### Case 6. Îã§Ï§ë Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ Íµ¨ÌòÑ

ÌïòÎÇòÏùò ÌÅ¥ÎûòÏä§Í∞Ä Îëê Í∞ú Ïù¥ÏÉÅÏùò Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Î•º ÎèôÏãúÏóê Íµ¨ÌòÑÌï† Îïå Î∞úÏÉùÌïòÎäî Î©îÎ™®Î¶¨ Î†àÏù¥ÏïÑÏõÉÏùò Î≥ÄÌôîÎ•º Îã§Î£πÎãàÎã§. ÏûêÎ∞îÎäî ÌÅ¥ÎûòÏä§ Îã§Ï§ë ÏÉÅÏÜçÏùÄ Í∏àÏßÄÌïòÏßÄÎßå Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ Îã§Ï§ë Íµ¨ÌòÑÏùÄ ÌóàÏö©Ìï©ÎãàÎã§. Ïù¥ Ïú†Ïó∞ÏÑ±ÏùÑ Îí∑Î∞õÏπ®ÌïòÍ∏∞ ÏúÑÌï¥ JVMÏù¥ **ITable(Interface Method Table)**ÏùÑ Ïñ¥ÎñªÍ≤å ÌôïÏû•ÌïòÎ©∞, ÏÑúÎ°ú Îã§Î•∏ Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ÏóêÏÑú Ïò§Îäî Î©îÏÑúÎìúÎì§ÏùÑ Î¨ºÎ¶¨Ï†ÅÏúºÎ°ú Ïñ¥ÎñªÍ≤å Í≤©Î¶¨ÌïòÏó¨ Í¥ÄÎ¶¨ÌïòÎäîÏßÄ Î∂ÑÏÑùÌï©ÎãàÎã§.

Ï†ÑÌôî Í∏∞Îä•ÏùÑ Ï†ïÏùòÌïú `Phone` Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ÏôÄ ÏÇ¨ÏßÑ Ï¥¨ÏòÅ Í∏∞Îä•ÏùÑ Ï†ïÏùòÌïú `Camera` Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Î•º ÎèôÏãúÏóê Íµ¨ÌòÑÌïòÎäî `SmartPhone` ÌÅ¥ÎûòÏä§Î•º Í∞ÄÏ†ïÌï©ÎãàÎã§. `SmartPhone`ÏùÄ ÎÇ¥Î∂ÄÏ†ÅÏúºÎ°ú `modelName` ÌïÑÎìúÎ•º Í∞ÄÏßëÎãàÎã§.

```java
import java.io.IOException;

/**
 * Îã§Ï§ë Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ Íµ¨ÌòÑ ÏãúÏùò ITable ÌôïÏû• Î∞è ÏòÅÏó≠ Í≤©Î¶¨ Î©îÏª§ÎãàÏ¶ò Ïã§Ï∏°
 */
public class MultiInterfaceAnatomy {

    interface Phone { void call(); }
    interface Camera { void takePhoto(); }

    // Îëê Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Î•º ÎèôÏãú Íµ¨ÌòÑ
    static class SmartPhone implements Phone, Camera {
        String modelName = "Galaxy S26"; // Reference (4B with Compressed OOPs)

        @Override public void call() { System.out.println("Calling..."); }
        @Override public void takePhoto() { System.out.println("Taking photo..."); }
    }

    public static void main(String[] args) {
        System.out.println(VM.current().details());
        System.out.println("----------------------------------\n");

        SmartPhone myPhone = new SmartPhone();

        // 1. Ïù∏Ïä§ÌÑ¥Ïä§ Î†àÏù¥ÏïÑÏõÉ Ï∂úÎ†• (Heap ÏòÅÏó≠)
        System.out.println("=== [SmartPhone Ïù∏Ïä§ÌÑ¥Ïä§Ïùò Î©îÎ™®Î¶¨ Îßµ (Heap)] ===");
        System.out.println(ClassLayout.parseInstance(myPhone).toPrintable());

        // 2. Îã§Ï§ë Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ ÏÑ§Í≥ÑÎèÑ(Klass) Ï£ºÏÜå Ï∂îÏ∂ú
        long klassPointer = VM.current().addressOf(myPhone.getClass());
        System.out.println("=== [ITable Îã§Ï§ë ÏóîÌä∏Î¶¨Ïùò ÏãúÏûëÏ†ê: Î©îÌÉÄÎç∞Ïù¥ÌÑ∞ Ï£ºÏÜå] ===");
        System.out.printf("Instance Address  : 0x%x%n", VM.current().addressOf(myPhone));
        System.out.printf("Klass Address     : 0x%x (Ïù¥Í≥≥Ïóê Phone/Camera ITableÏù¥ ÏúÑÏπò)%n", klassPointer);

        // 3. Îã§ÌòïÏ†Å Ìò∏Ï∂ú Ïã§Ìñâ
        Phone p = myPhone;
        Camera c = myPhone;
        p.call();
        c.takePhoto();

        System.out.println("\n[ÎåÄÍ∏∞ Ï§ë] ÏóîÌÑ∞Î•º ÎàÑÎ•¥Î©¥ Ï¢ÖÎ£åÎê©ÎãàÎã§. Ïù¥ ÏÉÅÌÉúÏóêÏÑú jhsdbÎ•º Ïã§ÌñâÌïòÏÑ∏Ïöî.");
        try {
            System.in.read(); // ÌîÑÎ°úÏÑ∏Ïä§ Ïú†ÏßÄÏö©
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
    }
}
```

```text
[Output]

# WARNING: Unable to get Instrumentation. Dynamic Attach failed. You may add this JAR as -javaagent manually, or supply -Djdk.attach.allowAttachSelf
# VM mode: 64 bits
# Compressed references (oops): 3-bit shift
# Compressed class pointers: 0-bit shift and 0x29A2E000000 base
# Object alignment: 8 bytes
#                       ref, bool, byte, char, shrt,  int,  flt,  lng,  dbl
# Field sizes:            4,    1,    1,    2,    2,    4,    4,    8,    8
# Array element sizes:    4,    1,    1,    2,    2,    4,    4,    8,    8
# Array base offsets:    16,   16,   16,   16,   16,   16,   16,   16,   16

----------------------------------

=== [SmartPhone Ïù∏Ïä§ÌÑ¥Ïä§Ïùò Î©îÎ™®Î¶¨ Îßµ (Heap)] ===
posts.jvm_memory_layout.MultiInterfaceAnatomy$SmartPhone object internals:
OFF  SZ               TYPE DESCRIPTION               VALUE
  0   8                    (object header: mark)     0x0000000000000001 (non-biasable; age: 0)
  8   4                    (object header: class)    0x0101f178
 12   4   java.lang.String SmartPhone.modelName      (object)
Instance size: 16 bytes
Space losses: 0 bytes internal + 0 bytes external = 0 bytes total

=== [ITable Îã§Ï§ë ÏóîÌä∏Î¶¨Ïùò ÏãúÏûëÏ†ê: Î©îÌÉÄÎç∞Ïù¥ÌÑ∞ Ï£ºÏÜå] ===
Instance Address  : 0x621b1e720
Klass Address     : 0x621b1e5e0 (Ïù¥Í≥≥Ïóê Phone/Camera ITableÏù¥ ÏúÑÏπò)
Calling...
Taking photo...
```

`SmartPhone` Ïù∏Ïä§ÌÑ¥Ïä§Í∞Ä ÏÉùÏÑ±ÎêòÎ©¥, Ìûô ÏòÅÏó≠Ïùò Îç∞Ïù¥ÌÑ∞ Íµ¨Ï°∞Îäî Îã®ÏàúÌïòÏßÄÎßå Ïù¥Î•º Îí∑Î∞õÏπ®ÌïòÎäî Î©îÌÉÄÏä§ÌéòÏù¥Ïä§(Metaspace)Ïùò Ï£ºÏÜåÎ°ùÏùÄ ÎπÑÏïΩÏ†ÅÏúºÎ°ú Î≥µÏû°Ìï¥ÏßëÎãàÎã§.

1.  **ITableÏùò ÏóîÌä∏Î¶¨ ÌôïÏû•**: Îã®Ïùº Íµ¨ÌòÑÏùº ÎïåÎäî ÌïòÎÇòÏùò Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ Î∏îÎ°ùÎßå Ï°¥Ïû¨ÌñàÏßÄÎßå, Ïù¥Ï†ú ITableÏùÄ Íµ¨ÌòÑÎêú Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ Í∞úÏàòÎßåÌÅºÏùò **'Offset Entry'**Î•º Í∞ÄÏßëÎãàÎã§. `Phone`ÏùÑ ÏúÑÌïú ÏãúÏûë Ï£ºÏÜåÏôÄ `Camera`Î•º ÏúÑÌïú ÏãúÏûë Ï£ºÏÜåÍ∞Ä Í∞ÅÍ∞Å Í∏∞Î°ùÎê©ÎãàÎã§.
2.  **Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Î≥Ñ Î©îÏÑúÎìú Í∑∏Î£πÌïë**: `Phone` Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Ïùò `call()` Î©îÏÑúÎìú Ï£ºÏÜåÏôÄ `Camera` Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Ïùò `takePhoto()` Î©îÏÑúÎìú Ï£ºÏÜåÎäî ITable ÎÇ¥ÏóêÏÑú ÏÑúÎ°ú Îã§Î•∏ ÏòÅÏó≠(Chunk)Ïóê Î∞∞ÏπòÎê©ÎãàÎã§. 
3.  **Îü∞ÌÉÄÏûÑ Î©îÏÑúÎìú ÌÉêÏÉâ(Search)**: 
    * `Phone p = new SmartPhone(); p.call();` Ìò∏Ï∂ú Ïãú, JVMÏùÄ ITableÏóêÏÑú `Phone` Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ IDÏóê Ìï¥ÎãπÌïòÎäî Ïò§ÌîÑÏÖãÏùÑ Î®ºÏ†Ä Ï∞æÏäµÎãàÎã§.
    * Ï∞æÏïÑÎÇ∏ Ïò§ÌîÑÏÖã ÏßÄÏ†êÎ∂ÄÌÑ∞ `call()` Î©îÏÑúÎìúÏùò ÏÉÅÎåÄÏ†Å ÏúÑÏπòÎ•º Í≥ÑÏÇ∞ÌïòÏó¨ Ïã§Ï†ú Ïã§Ìñâ Ï£ºÏÜåÎ•º ÏñªÏäµÎãàÎã§.
    * Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Í∞Ä ÎäòÏñ¥ÎÇ†ÏàòÎ°ù Ïù¥ 'Ïò§ÌîÑÏÖã ÌÉêÏÉâ' Í≥ºÏ†ïÏóêÏÑú ÏàúÌöå(Traversing)Ìï¥Ïïº Ìï† ÏóîÌä∏Î¶¨Í∞Ä ÎßéÏïÑÏ†∏ ÎØ∏ÏÑ∏Ìïú Ïò§Î≤ÑÌó§ÎìúÍ∞Ä ÎàÑÏ†ÅÎê©ÎãàÎã§.

![](/assets/img/2026-01-14-20-13-27.png)

ÌäπÌûà Ìù•ÎØ∏Î°úÏö¥ Ï†êÏùÄ **Î©îÏÑúÎìú ÏãúÍ∑∏ÎãàÏ≤ò Ï∂©Îèå** Ï≤òÎ¶¨ÏûÖÎãàÎã§. ÎßåÏïΩ Îëê Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Ïóê ÎèôÏùºÌïú Ïù¥Î¶ÑÍ≥º ÌååÎùºÎØ∏ÌÑ∞Î•º Í∞ÄÏßÑ Î©îÏÑúÎìúÍ∞Ä ÏûàÎã§Î©¥, `SmartPhone` ÌÅ¥ÎûòÏä§Îäî Ïù¥Î•º ÌïòÎÇòÎ°ú Íµ¨ÌòÑÌïòÏßÄÎßå, ITableÏùÄ Í∞Å Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Ïùò Í¥ÄÏ†êÏóêÏÑú Ìï¥Îãπ Íµ¨ÌòÑÏ≤¥Î•º Í∞ÄÎ¶¨ÌÇ§Îäî Ìè¨Ïù∏ÌÑ∞Î•º Í∞ÅÍ∞Å Ïú†ÏßÄÌï©ÎãàÎã§. Ï¶â, Î¨ºÎ¶¨Ï†ÅÏúºÎ°úÎäî Í∞ôÏùÄ Ï£ºÏÜåÎ•º Í∞ÄÎ¶¨ÌÇ§ÎçîÎùºÎèÑ Ï£ºÏÜåÎ°ùÏÉÅÏùò ÏóîÌä∏Î¶¨Îäî Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Î≥ÑÎ°ú ÎèÖÎ¶ΩÏ†ÅÏúºÎ°ú Í¥ÄÎ¶¨ÎêòÏñ¥ ÌÉÄÏûÖ ÏïàÏ†ÑÏÑ±ÏùÑ Î≥¥Ïû•Ìï©ÎãàÎã§.

#### ITableÏùò Ïã§Ï≤¥ ÌôïÏù∏

ITableÏù¥ ÏúÑÏπòÌïú KlassÏùò Ï£ºÏÜåÎ•º ÌôïÏù∏Ìï¥Î≥¥ÏïòÏäµÎãàÎã§. ÏßÄÍ∏àÎ∂ÄÌÑ∞Îäî "ITableÏùò Î™á Î≤àÏß∏ Ïπ∏Ïóê Ïñ¥Îñ§ Î©îÏÑúÎìúÍ∞Ä Îì§Ïñ¥ÏûàÎäîÍ∞Ä?"Î•º Ìï¥Í≤∞ÌïòÏó¨ ITableÏùò Ïã§Ï≤¥Î•º ÌôïÏù∏Ìï¥Î≥¥Í≤†ÏäµÎãàÎã§.

##### 1. clhsdb Ïã§Ìñâ Î∞è ÌîÑÎ°úÏÑ∏Ïä§ Ïó∞Í≤∞

Ïö∞ÏÑ† ÏûêÎ∞î ÌîÑÎ°úÏÑ∏Ïä§Í∞Ä Ï§ëÎã®ÎêòÏßÄ ÏïäÎèÑÎ°ù `System.in.read()` Ï≤òÎ¶¨Ìï©ÎãàÎã§. Í∑∏Î¶¨Í≥† ÌÑ∞ÎØ∏ÎÑêÏóêÏÑú JDKÏùò `jhsdb` ÎèÑÍµ¨Î•º Ìò∏Ï∂úÌïòÏó¨  `clhsdb` Î™®ÎìúÎ°ú ÏßÑÏûÖÌïú Îí§, Ïã§Ìñâ Ï§ëÏù∏ ÌîÑÎ°úÏÑ∏Ïä§Ïóê Ïó∞Í≤∞Ìï©ÎãàÎã§.

```bash
# clhsdb Ïã§Ìñâ
jhsdb clhsdb

# ÌîÑÎ°úÏÑ∏Ïä§ Ïó∞Í≤∞
hsdb> attach <PID>
```


##### 2. ÌÅ¥ÎûòÏä§ Ï£ºÏÜå(Klass) Ï∞æÍ∏∞

ITableÏùÑ ÌôïÏù∏ÌïòÍ∏∞ ÏúÑÌï¥ÏÑúÎäî KlassÏùò Ïã§Ï†ú Ï£ºÏÜåÎ•º ÏïåÏïÑÏïº Ìï©ÎãàÎã§. ÏΩîÎìúÏùò Ï∂úÎ†•ÏóêÏÑú Base Ï£ºÏÜå(`0x29A2E000000`)ÏôÄ 4Î∞îÏù¥Ìä∏Î°ú ÏïïÏ∂ïÎêú KlassÏùò ÏÉÅÎåÄ Ï£ºÏÜå(`0x0101F178`)Î•º ÌÜµÌï¥ Ï£ºÏÜåÎ•º ÏïåÍ≥† ÏûàÏßÄÎßå, clhsdb ÏûêÏ≤¥ Î™ÖÎ†πÏñ¥Î°úÎèÑ Ï∞æÏùÑ Ïàò ÏûàÏäµÎãàÎã§.

```bash
hsdb> class posts/jvm_memory_layout/MultiInterfaceAnatomy$SmartPhone

# posts/jvm_memory_layout/MultiInterfaceAnatomy$SmartPhone @0x0000029a2f01f178
```

##### 3. VTable/ITable ÌÅ¨Í∏∞ ÌôïÏù∏

```bash
# inspect <ÌôïÏù∏Ìïú Klass Ï£ºÏÜå>
hsdb> inspect 0x0000029a2f01f178

# Type is InstanceKlass (size of 448)
# ...
# int Klass::_vtable_len: 7
# ...
# Array<InstanceKlass*>* InstanceKlass::_local_interfaces: Array<InstanceKlass*> @ 0x0000029a6f46c6d8
# ...
# int InstanceKlass::_itable_len: 8
# ...
# int InstanceKlass::_nonstatic_field_size: 1
# ...
```

* **`_vtable_len: 7` (Í∞ÄÏÉÅ Î©îÏÑúÎìú ÌÖåÏù¥Î∏î Í∏∏Ïù¥)**: `SmartPhone`Ïùò VTableÏóê 7Í∞úÏùò ÏóîÌä∏Î¶¨Í∞Ä Í∏∞Î°ùÎêòÏñ¥ ÏûàÏùåÏùÑ ÏùòÎØ∏Ìï©ÎãàÎã§. `Object` ÌÅ¥ÎûòÏä§Î°úÎ∂ÄÌÑ∞ ÏÉÅÏÜçÎ∞õÏùÄ Í∏∞Î≥∏ Î©îÏÑúÎìúÎì§(Ïòà: `equals`, `hashCode`, `toString` Îì±)Í≥º `SmartPhone` ÌÅ¥ÎûòÏä§ÏóêÏÑú ÏßÅÏ†ë Íµ¨ÌòÑÌïú Î©îÏÑúÎìúÎì§Ïù¥ Ïù¥ ÌÖåÏù¥Î∏îÏóê ÏàúÏÑúÎåÄÎ°ú Î∞∞ÏπòÎê©ÎãàÎã§. ÏÉÅÏÜç Í≥ÑÏ∏µÏùÑ Îî∞Îùº Í≥†Ï†ïÎêú Ïò§ÌîÑÏÖãÏùÑ Í∞ÄÏßÄÎØÄÎ°ú Ìò∏Ï∂ú ÏÜçÎèÑÍ∞Ä Îß§Ïö∞ Îπ†Î¶ÖÎãàÎã§.
* **`_itable_len: 8` (Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ Î©îÏÑúÎìú ÌÖåÏù¥Î∏î Í∏∏Ïù¥)**: Ïù¥Î≤à Ïã§ÏäµÏùò ÌïµÏã¨ ÏßÄÌëúÏûÖÎãàÎã§. Îã®Ïùº Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Ïùº ÎïåÎ≥¥Îã§ Ïà´ÏûêÍ∞Ä Ïª§ÏßÑ Í≤ÉÏùÑ ÌôïÏù∏Ìï† Ïàò ÏûàÏäµÎãàÎã§. ITableÏùÄ Îã®ÏàúÌûà Î©îÏÑúÎìú Ï£ºÏÜåÎßå Ï†ÅÎäî Í≤å ÏïÑÎãàÎùº, **[Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ ÌÅ¥ÎûòÏä§ Ï£ºÏÜå + Ìï¥Îãπ Î©îÏÑúÎìú Í∑∏Î£πÏùò ÏãúÏûë Ïò§ÌîÑÏÖã]** Ï†ïÎ≥¥Î•º Ìè¨Ìï®ÌïòÎäî `itablesOffsetEntry`ÏôÄ Ïã§Ï†ú Î©îÏÑúÎìú Ï£ºÏÜåÎì§Ïù¥ Í≤∞Ìï©Îêú Íµ¨Ï°∞Ïù¥Í∏∞ ÎïåÎ¨∏ÏûÖÎãàÎã§. `Phone`Í≥º `Camera` Îëê Í∞úÏùò Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Î•º Íµ¨ÌòÑÌñàÏúºÎØÄÎ°ú, Í∞Å Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Î•º ÏúÑÌïú ÏóîÌä∏Î¶¨ÏôÄ Î©îÏÑúÎìú Ìè¨Ïù∏ÌÑ∞Îì§Ïù¥ ÎàÑÏ†ÅÎêòÏñ¥ Ï¥ù 8ÏõåÎìú(64Î∞îÏù¥Ìä∏)Ïùò Í≥µÍ∞ÑÏùÑ Ï†êÏú†ÌïòÍ≥† ÏûàÎäî Í≤ÉÏûÖÎãàÎã§.
* **`_local_interfaces: Array<InstanceKlass*> @ 0x0000029a6f46c6d8`**: Ïù¥ Ï£ºÏÜåÎäî `SmartPhone`Ïù¥ ÏßÅÏ†ë Íµ¨ÌòÑÌïú Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Îì§Ïùò Î¶¨Ïä§Ìä∏(`Phone`, `Camera`)Î•º Îã¥Í≥† ÏûàÎäî Î∞∞Ïó¥ÏùÑ Í∞ÄÎ¶¨ÌÇµÎãàÎã§. JVMÏùÄ Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ Î©îÏÑúÎìúÎ•º Ìò∏Ï∂úÌï† Îïå Ïù¥ Î¶¨Ïä§Ìä∏Î•º Ï∞∏Ï°∞ÌïòÏó¨ ITable ÎÇ¥ÏóêÏÑú Ïò¨Î∞îÎ•∏ Î©îÏÑúÎìú ÏúÑÏπòÎ•º ÌÉêÏÉâÌï©ÎãàÎã§.
* **`_nonstatic_field_size: 1`**: Í∞ùÏ≤¥ Ïù∏Ïä§ÌÑ¥Ïä§ ÎÇ¥Î∂ÄÏóê Ï°¥Ïû¨ÌïòÎäî ÌïÑÎìúÏùò Í∞úÏàòÏûÖÎãàÎã§. Ïö∞Î¶¨Í∞Ä ÏÑ†Ïñ∏Ìïú `String modelName` ÌïÑÎìú ÌïòÎÇòÍ∞Ä Ï†ïÏÉÅÏ†ÅÏúºÎ°ú Ïû°ÌòÄ ÏûàÏùåÏùÑ Î≥¥Ïó¨Ï§çÎãàÎã§.

##### 4. Î©îÎ™®Î¶¨ Îç§ÌîÑÎ°ú VTable/ITable Ïã§Ï≤¥ ÌôïÏù∏

`mem` Î™ÖÎ†πÏñ¥Î•º ÏÇ¨Ïö©ÌïòÎ©¥ ÌäπÏ†ï Ï£ºÏÜåÎ∂ÄÌÑ∞ ÏõêÌïòÎäî Í∞úÏàòÎßåÌÅºÏùò Î©îÎ™®Î¶¨ Îç∞Ïù¥ÌÑ∞Î•º 16ÏßÑÏàòÎ°ú Ï∂úÎ†•Ìï©ÎãàÎã§. InstanceKlass Íµ¨Ï°∞Ï≤¥ Î∞îÎ°ú Îí§Ïóê VTableÏù¥ Ïù¥Ïñ¥ÏßëÎãàÎã§.

```bash
# mem <ÌôïÏù∏Ìïú Klass Ï£ºÏÜå>/<Îç§ÌîÑÌï† ÏõåÎìú Ïàò>
hsdb> mem <ÌôïÏù∏Ìïú Klass Ï£ºÏÜå>/100
```

```text
[Output]

0x0000029a2f01f178: 0x00007ffa99373c10
0x0000029a2f01f180: 0x0000000000000010
0x0000029a2f01f188: 0x0000003800000008
0x0000029a2f01f190: 0x0000029a731d5898
0x0000029a2f01f198: 0x0000029a2f0033e8
0x0000029a2f01f1a0: 0x0000029a6f46c6d8
0x0000029a2f01f1a8: 0x0000029a2e000e70
0x0000029a2f01f1b0: 0x0000029a2f01f178
...
0x0000029a2f01f338: 0x0000029a2e001068
0x0000029a2f01f340: 0x0000029a2e0010c0
0x0000029a2f01f348: 0x0000029a2e001118
0x0000029a2f01f350: 0x0000029a2e001170
0x0000029a2f01f358: 0x0000029a2e0011d8
0x0000029a2f01f360: 0x0000029a6f46c818
0x0000029a2f01f368: 0x0000029a6f46c8c8
0x0000029a2f01f370: 0x0000029a2f0031f8
0x0000029a2f01f378: 0x0000000000000228
0x0000029a2f01f380: 0x0000029a2f0033e8
0x0000029a2f01f388: 0x0000000000000230
0x0000029a2f01f390: 0x0000000000000000
0x0000029a2f01f398: 0x0000000000000000
0x0000029a2f01f3a0: 0x0000029a6f46c818
0x0000029a2f01f3a8: 0x0000029a6f46c8c8
...
```

ÏôºÏ™Ω Í∞í(Î©îÎ™®Î¶¨ Ï£ºÏÜå)ÏùÄ Îç∞Ïù¥ÌÑ∞Í∞Ä Î¨ºÎ¶¨Ï†ÅÏúºÎ°ú Ï†ÄÏû•ÎêòÏñ¥ ÏûàÎäî Î©îÌÉÄÏä§ÌéòÏù¥Ïä§ ÎÇ¥Ïùò 64ÎπÑÌä∏ Ï†àÎåÄ Ï£ºÏÜåÏù¥Í≥†, Ïò§Î•∏Ï™Ω Í∞í(Îç∞Ïù¥ÌÑ∞ Í∞í)ÏùÄ Ìï¥Îãπ Î©îÎ™®Î¶¨ Ï£ºÏÜåÏóê Ïã§Ï†úÎ°ú Í∏∞Î°ùÎêòÏñ¥ ÏûàÎäî 64ÎπÑÌä∏ Îç∞Ïù¥ÌÑ∞ÏûÖÎãàÎã§.

Ïù¥Ï†Ñ `inspect` Í≤∞Í≥ºÏóêÏÑú Ïù¥ ÌÅ¥ÎûòÏä§Ïùò InstanceKlass ÌÅ¨Í∏∞Í∞Ä 448(`0x1c0`)ÏûÑÏùÑ ÌôïÏù∏ÌñàÏäµÎãàÎã§. Ï¶â, VTableÏùò ÏãúÏûëÏ†êÏùÄ InstanceKlassÏùò ÏãúÏûë Ï£ºÏÜåÏù∏ `0x0000029a2f01f178`ÏóêÏÑú ÌÅ¨Í∏∞ `0x1c0`ÎßåÌÅº Îñ®Ïñ¥ÏßÑ `0x0000029a2f01f338`ÏûÖÎãàÎã§. Ï†ïÌôïÌûà Ïù¥ ÏßÄÏ†êÎ∂ÄÌÑ∞ ÏùòÎØ∏ÏûàÎäî Îç∞Ïù¥ÌÑ∞Îì§Ïù¥ ÎÇòÌÉÄÎÇ©ÎãàÎã§.

Îç§ÌîÑÎêú Î©îÎ™®Î¶¨ Í∞íÎì§(0x...) Ï§ë ÌïòÎÇòÍ∞Ä Ïã§Ï†ú Î©îÏÑúÎìú Ï£ºÏÜåÏù∏ÏßÄ ÌôïÏù∏ÌïòÍ∏∞ ÏúÑÌï¥ `whatis` Î™ÖÎ†πÏñ¥Î•º ÏÇ¨Ïö©Ìï©ÎãàÎã§. Ïù¥ Îïå, Î©îÏÑúÎìú Í∞ùÏ≤¥Ïùò Ïã§Ï†ú Ìè¨Ïù∏ÌÑ∞Î•º Í∞ÄÎ¶¨ÌÇ§Îäî Îç∞Ïù¥ÌÑ∞ Í∞íÏùÑ ÏûÖÎ†•Ìï¥Ïïº Ìï©ÎãàÎã§.

```bash
# whatis <Îç§ÌîÑÏóêÏÑú Î∞úÍ≤¨Ìïú Î©îÏÑúÎìú Ï∂îÏ†ï Ï£ºÏÜå(Îç∞Ïù¥ÌÑ∞ Í∞í)>
hsdb> whatis 0x0000029a2e001068
# Address 0x0000029a2e001068: Method java/lang/Object.finalize()V@0x0000029a2e001068
hsdb> whatis 0x0000029a2e0010c0
# Address 0x0000029a2e0010c0: Method java/lang/Object.equals(Ljava/lang/Object;)Z@0x0000029a2e0010c0
hsdb> whatis 0x0000029a2e001118
# Address 0x0000029a2e001118: Method java/lang/Object.toString()Ljava/lang/String;@0x0000029a2e001118
hsdb> whatis 0x0000029a2e001170
# Address 0x0000029a2e001170: Method java/lang/Object.hashCode()I@0x0000029a2e001170
hsdb> whatis 0x0000029a2e0011d8
# Address 0x0000029a2e0011d8: Method java/lang/Object.clone()Ljava/lang/Object;@0x0000029a2e0011d8
hsdb> whatis 0x0000029a6f46c818
# Address 0x0000029a6f46c818: Method posts/jvm_memory_layout/MultiInterfaceAnatomy$SmartPhone.call()V@0x0000029a6f46c818
hsdb> whatis 0x0000029a6f46c8c8
# Address 0x0000029a6f46c8c8: Method posts/jvm_memory_layout/MultiInterfaceAnatomy$SmartPhone.takePhoto()V@0x0000029a6f46c8c8
hsdb> whatis 0x0000029a2f0031f8
# Address 0x0000029a2f0031f8: InstanceKlass for posts/jvm_memory_layout/MultiInterfaceAnatomy$Phone
hsdb> whatis 0x0000029a2f0033e8
# Address 0x0000029a2f0033e8: InstanceKlass for posts/jvm_memory_layout/MultiInterfaceAnatomy$Camera
```

Ïù¥Ï†ú 64ÎπÑÌä∏ Îç§ÌîÑÎ•º Î∂ÑÏÑùÌïòÎ©¥, JVMÏù¥ Ïôú Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ Ìò∏Ï∂ú Ïãú ÌÅ¥ÎûòÏä§ ÏÉÅÏÜçÎ≥¥Îã§ Î≥µÏû°Ìïú Í≥ºÏ†ïÏùÑ Í±∞ÏπòÎäîÏßÄ Í∑∏ Ïù¥Ïú†Î•º Ï†ïÌôïÌûà Ïïå Ïàò ÏûàÏäµÎãàÎã§.

**VTable ÏòÅÏó≠: Í∞ÄÏÉÅ Î©îÏÑúÎìú (Index 0~6)**

Í≥†Ï†ïÎêú Ïò§ÌîÑÏÖãÏóê ÏúÑÏπòÌïú 7Í∞úÏùò Î©îÏÑúÎìú Ìè¨Ïù∏ÌÑ∞ÏûÖÎãàÎã§.

| Ï£ºÏÜå          | Îç∞Ïù¥ÌÑ∞              | Ï†ïÏ≤¥                       |
| ------------- | ------------------- | -------------------------- |
| **0x...f338** | `0x...2e001068`     | Object.finalize()          |
| **0x...f340** | `0x...2e0010c0`     | Object.equals(Object)      |
| **0x...f348** | `0x...2e001118`     | Object.toString()          |
| **0x...f350** | `0x...2e001170`     | Object.hashCode()          |
| **0x...f358** | `0x...2e0011d8`     | Object.clone()             |
| **0x...f360** | **`0x...6f46c818`** | **SmartPhone.call()**      |
| **0x...f368** | **`0x...6f46c8c8`** | **SmartPhone.takePhoto()** |

**ITable ÏòÅÏó≠: Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ Ï£ºÏÜåÎ°ù (0x...f370 ÏãúÏûë)**

Ïó¨Í∏∞Í∞Ä Î∞îÎ°ú ÌïµÏã¨ÏûÖÎãàÎã§. Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Î≥ÑÎ°ú Ïñ¥ÎîîÏóê Ïñ¥Îñ§ Î©îÏÑúÎìúÍ∞Ä ÏûàÎäîÏßÄ Í∏∞Î°ùÎêú 8ÏõåÎìúÏùò Í≥µÍ∞ÑÏûÖÎãàÎã§.

| Ï£ºÏÜå                 | Îç∞Ïù¥ÌÑ∞          | Ï†ïÏ≤¥                                     |
| -------------------- | --------------- | ---------------------------------------- |
| **0x...f370**        | `0x...2f0031f8` | `Phone` Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Ïùò Klass Ï£ºÏÜå          |
| **0x...f378**        | `0x00000228`    | `Phone` Î©îÏÑúÎìú ÌÖåÏù¥Î∏îÏù¥ ÏãúÏûëÎêòÎäî Ïò§ÌîÑÏÖã  |
| **0x...f380**        | `0x...2f0033e8` | `Camera` Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Ïùò Klass Ï£ºÏÜå         |
| **0x...f388**        | `0x00000230`    | `Camera` Î©îÏÑúÎìú ÌÖåÏù¥Î∏îÏù¥ ÏãúÏûëÎêòÎäî Ïò§ÌîÑÏÖã |
| **0x...f390 ~ f398** | `0x00000000`    | ÌÖåÏù¥Î∏îÏùò ÎÅùÏùÑ ÏïåÎ¶¨Îäî Terminator          |

ÏúÑÏóêÏÑú ÏßÄÏ†ïÌïú Ïò§ÌîÑÏÖã ÏßÄÏ†êÏóê Ïã§Ï†ú Íµ¨ÌòÑÏ≤¥ Ï£ºÏÜåÍ∞Ä Îì§Ïñ¥ÏûàÏäµÎãàÎã§.

| Ï£ºÏÜå                               | Îç∞Ïù¥ÌÑ∞          | Ï†ïÏ≤¥                               |
| ---------------------------------- | --------------- | ---------------------------------- |
| **0x...f3a0** (`0xf178` + `0x228`) | `0x...6f46c818` | `SmartPhone.call`Ïùò Ïã§Ï†ú Ï£ºÏÜå      |
| **0x...f3a8** (`0xf178` + `0x230`) | `0x...6f46c8c8` | `SmartPhone.takePhoto`Ïùò Ïã§Ï†ú Ï£ºÏÜå |

Ïù¥Î°úÏç® Ïù¥Î°†Í≥º Î¨ºÎ¶¨Ï†Å Ïã§Ï≤¥Í∞Ä ÏùºÏπòÌï®ÏùÑ ÌôïÏù∏ÌñàÏäµÎãàÎã§.

### Case 7. Ï∂îÏÉÅ ÌÅ¥ÎûòÏä§ ÏÉÅÏÜç

Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ÏôÄ Ïú†ÏÇ¨ÌïòÎ©¥ÏÑúÎèÑ ÌÅ¥ÎûòÏä§Ïùò ÏÑ±Í≤©ÏùÑ ÎèôÏãúÏóê Í∞ñÎäî 'Ï∂îÏÉÅ ÌÅ¥ÎûòÏä§(Abstract Class)' ÏÉÅÏÜç ÏãúÏùò Î©îÎ™®Î¶¨ ÎèôÏûëÏùÑ Ìï¥Î∂ÄÌï©ÎãàÎã§. ÌäπÌûà Íµ¨ÌòÑÏ≤¥Í∞Ä ÏóÜÎäî Ï∂îÏÉÅ Î©îÏÑúÎìúÍ∞Ä VTable ÏÉÅÏóêÏÑú Ïñ¥ÎñªÍ≤å ÏûêÎ¶¨Î•º ÏÑ†Ï†ê(Reservation)ÌïòÎ©∞, Îü∞ÌÉÄÏûÑÏóê Ïù¥ ÎØ∏ÏôÑÏÑ±Îêú Ïä¨Î°ØÏù¥ Ìò∏Ï∂úÎêòÎäî ÏÇ¨Í≥†Î•º JVMÏù¥ Ïñ¥Îñ§ Î¨ºÎ¶¨Ï†Å Ïû•ÏπòÎ°ú Î∞©Ïñ¥ÌïòÎäîÏßÄ Î∂ÑÏÑùÌï©ÎãàÎã§.

Î™®Îì† ÎèÑÌòïÏùò Í≥µÌÜµ ÏÜçÏÑ±Ïù∏ `color`Î•º Í∞ÄÏßÄÎêò, Í∑∏Î¶¨Îäî Î∞©Î≤ïÏùÄ Í≤∞Ï†ïÎêòÏßÄ ÏïäÏùÄ Ï∂îÏÉÅ ÌÅ¥ÎûòÏä§ `Graphic`Í≥º, Ïù¥Î•º ÏÉÅÏÜçÎ∞õÏïÑ `draw()` Î©îÏÑúÎìúÎ•º Íµ¨Ï≤¥ÌôîÌïú `Circle` ÌÅ¥ÎûòÏä§Î•º Í∞ÄÏ†ïÌï©ÎãàÎã§.

```java
import org.openjdk.jol.info.ClassLayout;
import org.openjdk.jol.vm.VM;

/**
 * Ï∂îÏÉÅ Î©îÏÑúÎìúÏùò VTable Ïä¨Î°Ø ÏÑ†Ï†ê Î∞è ÏûêÏãù ÌÅ¥ÎûòÏä§Ïùò Ïò§Î≤ÑÎùºÏù¥Îî© Î©îÏª§ÎãàÏ¶ò
 */
public class AbstractClassAnatomy {

    abstract static class Graphic {
        int color = 0xFFFFFF; // 4B

        // Ï∂îÏÉÅ Î©îÏÑúÎìú: VTableÏóê Ïä¨Î°ØÏùÄ ÏÉùÏÑ±ÎêòÏßÄÎßå Ï£ºÏÜåÎäî StubÏùÑ Í∞ÄÎ¶¨ÌÇ¥
        abstract void draw();

        void info() { System.out.println("Graphic color: " + color); }
    }

    static class Circle extends Graphic {
        int radius = 10; // 4B

        @Override
        void draw() { System.out.println("Drawing Circle with radius " + radius); }
    }

    public static void main(String[] args) {
        Graphic circle = new Circle();

        System.out.println(VM.current().details());
        System.out.println("----------------------------------\n");

        // 1. Ïù∏Ïä§ÌÑ¥Ïä§ Î†àÏù¥ÏïÑÏõÉ ÌôïÏù∏
        System.out.println("=== [Circle Ïù∏Ïä§ÌÑ¥Ïä§Ïùò Î©îÎ™®Î¶¨ Îßµ (Heap)] ===");
        System.out.println(ClassLayout.parseInstance(circle).toPrintable());

        // 2. Î©îÌÉÄÎç∞Ïù¥ÌÑ∞ Ï†ïÎ≥¥ Ï∂úÎ†•
        System.out.println("=== [ÌÅ¥ÎûòÏä§ ÏÑ§Í≥ÑÎèÑ Ï†ïÎ≥¥] ===");
        System.out.println("CircleÏùÄ Î∂ÄÎ™® GraphicÏùò VTable Íµ¨Ï°∞Î•º ÏÉÅÏÜçÎ∞õÏïÑ draw() Ïä¨Î°ØÏùÑ Ïû¨Ï±ÑÏõÅÎãàÎã§.");
    }
}
```

Ï∂îÏÉÅ ÌÅ¥ÎûòÏä§Îäî ÏßÅÏ†ë Ïù∏Ïä§ÌÑ¥Ïä§ÌôîÌï† Ïàò ÏóÜÏßÄÎßå, ÏûêÏãù ÌÅ¥ÎûòÏä§Ïù∏ `Circle`Ïù¥ ÏÉùÏÑ±Îê† Îïå Í∑∏ Î©îÌÉÄÎç∞Ïù¥ÌÑ∞Îäî Î∂ÄÎ™®Ïù∏ `Graphic`Ïùò ÏÑ§Í≥ÑÎèÑÎ•º Ï∂©Ïã§Ìûà Î∞òÏòÅÌï©ÎãàÎã§.

1. **VTable Ïä¨Î°ØÏùò ÏÑ†Ï†ê**: JVMÏùÄ Î∂ÄÎ™®Ïù∏ `Graphic` ÌÅ¥ÎûòÏä§Î•º Î°úÎî©Ìï† Îïå, Íµ¨ÌòÑÏ≤¥Í∞Ä ÏóÜÎçîÎùºÎèÑ `draw()` Î©îÏÑúÎìúÎ•º ÏúÑÌïú **VTable Ïä¨Î°Ø**ÏùÑ Î∞òÎìúÏãú Ìï†ÎãπÌï©ÎãàÎã§. Ï∂îÏÉÅ Î©îÏÑúÎìú Ïó≠Ïãú Ìï¥Îãπ ÌÅ¥ÎûòÏä§ Í≥ÑÏ∏µÏóêÏÑú Î∞òÎìúÏãú Ï°¥Ïû¨Ìï¥Ïïº ÌïòÎäî 'ÌñâÏúÑÏùò Í∑úÍ≤©'Ïù¥Í∏∞ ÎïåÎ¨∏ÏûÖÎãàÎã§.
2. **ÏóêÎü¨ Ìï∏Îì§Îü¨ Ï£ºÏÜå Î∞îÏù∏Îî©**: Íµ¨ÌòÑÎêòÏßÄ ÏïäÏùÄ Ï∂îÏÉÅ Î©îÏÑúÎìú Ïä¨Î°ØÏùÄ ÎπÑÏñ¥ ÏûàÍ±∞ÎÇò `null`Ïù¥ ÏïÑÎãôÎãàÎã§. JVMÏùÄ Ïù¥ ÏûêÎ¶¨Ïóê **`AbstractMethodError Stub`**Ïù¥Îùº Î∂àÎ¶¨Îäî ÌäπÏàòÌïú Í≥µÌÜµ Î£®Ìã¥Ïùò Ï£ºÏÜåÎ•º Ï±ÑÏõå ÎÑ£ÏäµÎãàÎã§. ÎßåÏïΩ ÏûòÎ™ªÎêú Î°úÏßÅÏúºÎ°ú Ïù∏Ìï¥ Ïù¥ ÎØ∏ÏôÑÏÑ± Ïä¨Î°ØÏù¥ ÏßÅÏ†ë Ìò∏Ï∂úÎêòÎçîÎùºÎèÑ, ÏãúÏä§ÌÖúÏùÄ Î∂ïÍ¥¥ÎêòÏßÄ ÏïäÍ≥† Ï¶âÏãú ÏòàÏô∏Î•º ÎçòÏ†∏ Ïä§Ïä§Î°úÎ•º Î≥¥Ìò∏Ìï©ÎãàÎã§.
3. **ÏûêÏãù ÌÅ¥ÎûòÏä§Ïùò Ïä¨Î°Ø ÏóÖÎç∞Ïù¥Ìä∏ (Overwriting)**: ÏûêÏãù ÌÅ¥ÎûòÏä§Ïù∏ `Circle`Ïù¥ Î°úÎî©ÎêòÏñ¥ ÏûêÏã†Ïùò VTableÏùÑ Ï°∞Î¶ΩÌï† Îïå, Î∂ÄÎ™®Î°úÎ∂ÄÌÑ∞ Î¨ºÎ†§Î∞õÏùÄ `draw()` Ïä¨Î°ØÏùò ÏúÑÏπòÎ•º ÌôïÏù∏Ìï©ÎãàÎã§. Ïù¥ÌõÑ Ìï¥Îãπ Ïä¨Î°ØÏùò ÎÇ¥Ïö©ÏùÑ Í∏∞Ï°¥Ïùò ÏóêÎü¨ Stub Ï£ºÏÜåÏóêÏÑú, ÏûêÏã†Ïù¥ Íµ¨Ï≤¥ÌôîÌïú `Circle.draw()`Ïùò **Ïã§Ï†ú Í∏∞Í≥ÑÏñ¥ Ï£ºÏÜå**Î°ú ÎçÆÏñ¥ÏîÅÎãàÎã§.

Ïù¥ Î©îÏª§ÎãàÏ¶òÏùÄ Ï∂îÏÉÅ ÌÅ¥ÎûòÏä§Í∞Ä Îã®ÏàúÌûà 'Í∞úÎÖêÏ†Å Ï°¥Ïû¨'Î•º ÎÑòÏñ¥, Î©îÎ™®Î¶¨ÏÉÅÏóêÏÑú ÏûêÏãù ÌÅ¥ÎûòÏä§Í∞Ä Îî∞ÎùºÏïº Ìï† **'Î¨ºÎ¶¨Ï†Å Î†àÏù¥ÏïÑÏõÉÏùò Í∑úÍ≤©(Layout Specification)'**ÏùÑ Í∞ïÏ†úÌïòÍ≥† ÏûàÏùåÏùÑ Î≥¥Ïó¨Ï§çÎãàÎã§. Î∂ÄÎ™®Í∞Ä Ï†ïÌï¥ÎÜìÏùÄ VTableÏùò ÏàúÏÑúÏôÄ ÌïÑÎìú Ïò§ÌîÑÏÖãÏùÄ ÏûêÏãùÏóêÍ≤å Í∑∏ÎåÄÎ°ú Ï†ÑÏàòÎêòÎ©∞, ÏûêÏãùÏùÄ Ïò§ÏßÅ Í∑∏ ÏïàÏùò 'ÎÇ¥Ïö©Î¨º(Ï£ºÏÜå)'ÏùÑ Ï±ÑÏö∏ Í∂åÎ¶¨Îßå Í∞ÄÏßëÎãàÎã§.

> **Ï∂îÏÉÅ ÌÅ¥ÎûòÏä§ vs Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Ïùò Î¨ºÎ¶¨Ï†Å Ï∞®Ïù¥**
> 
> Ï∂îÏÉÅ ÌÅ¥ÎûòÏä§Îäî VTableÏùÑ ÌÜµÌï¥ Î©îÏÑúÎìú ÏúÑÏπòÎ•º Í≥†Ï†ïÌï† Ïàò ÏûàÏßÄÎßå, Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Îäî ÏïûÏÑú Î≥¥ÏïòÎìØ ITableÏùÑ ÌÜµÌïú ÎèôÏ†Å ÌÉêÏÉâÏù¥ ÌïÑÏöîÌï©ÎãàÎã§. Îî∞ÎùºÏÑú ÏÑ±Îä• ÎØºÍ∞êÎèÑÍ∞Ä Í∑πÎèÑÎ°ú ÎÜíÏùÄ ÌîÑÎ†àÏûÑÏõåÌÅ¨ ÏÑ§Í≥Ñ Ïãú, Îã§Ï§ë Íµ¨ÌòÑÏù¥ ÌïÑÏöî ÏóÜÎäî ÏÉÅÌô©Ïù¥ÎùºÎ©¥ Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Î≥¥Îã§ Ï∂îÏÉÅ ÌÅ¥ÎûòÏä§Î•º ÏÇ¨Ïö©ÌïòÎäî Í≤ÉÏù¥ VTableÏùò Í≥†Ï†ï Ïù∏Îç±Ïä§ Ï†ëÍ∑º(Direct Access) ÎçïÎ∂ÑÏóê ÎØ∏ÏÑ∏ÌïòÍ≤å Îçî Ïú†Î¶¨Ìï©ÎãàÎã§.
{: .prompt-tip }

### Case 8. ÏùµÎ™Ö ÌÅ¥ÎûòÏä§ÏôÄ ÎûåÎã§

ÏÜåÏä§ ÏΩîÎìúÏÉÅÏóêÏÑúÎäî ÌïÑÎìúÍ∞Ä Ï†ÑÌòÄ Î≥¥Ïù¥ÏßÄ ÏïäÎäî ÏùµÎ™Ö ÌÅ¥ÎûòÏä§(Anonymous Inner Class)ÎÇò ÎûåÎã§(Lambda) ÏãùÏùÑ Î∂ÑÏÑùÌï©ÎãàÎã§. Ïù¥Îü¨Ìïú Íµ¨Ï°∞Ï≤¥Îì§Ïù¥ Ïô∏Î∂Ä ÌÅ¥ÎûòÏä§Ïùò Î©§Î≤ÑÎÇò ÏßÄÏó≠ Î≥ÄÏàòÎ•º Ï∞∏Ï°∞Ìï† Îïå, JVMÏù¥ Ïñ¥ÎñªÍ≤å 'Ìï©ÏÑ± ÌïÑÎìú(Synthetic Field)'Î•º Î™∞Îûò ÏÇΩÏûÖÌïòÏó¨ Ïù∏Ïä§ÌÑ¥Ïä§Ïùò ÌÅ¨Í∏∞Î•º ÌÇ§Ïö∞ÎäîÏßÄ, Í∑∏Î¶¨Í≥† Ïù¥Í≤ÉÏù¥ Ïôú Î©îÎ™®Î¶¨ ÎàÑÏàòÏùò Î¨ºÎ¶¨Ï†Å ÏõêÏù∏Ïù¥ ÎêòÎäîÏßÄ Ìï¥Î∂ÄÌï©ÎãàÎã§.

Ïô∏Î∂Ä ÌÅ¥ÎûòÏä§ `Button` ÎÇ¥Î∂ÄÏóêÏÑú Ï†ïÏùòÎêú ÏùµÎ™Ö `Runnable` Í∞ùÏ≤¥Î•º Í∞ÄÏ†ïÌï©ÎãàÎã§. Ïù¥ ÏùµÎ™Ö Í∞ùÏ≤¥Îäî Ïô∏Î∂Ä ÌÅ¥ÎûòÏä§Ïùò `name` ÌïÑÎìúÎ•º Ï∞∏Ï°∞ÌïòÍ≥† ÏûàÏäµÎãàÎã§.

```java
import org.openjdk.jol.info.ClassLayout;
import org.openjdk.jol.vm.VM;

/**
 * ÏùµÎ™Ö ÌÅ¥ÎûòÏä§Ïùò hidden ÌïÑÎìú(this$0) Î∞è Î≥ÄÏàò Ï∫°Ï≤òÎ°ú Ïù∏Ìïú Î†àÏù¥ÏïÑÏõÉ Î≥ÄÌôî Ïã§Ï∏°
 */
public class AnonymousClassAnatomy {

    static class Button {
        String name = "SubmitButton";

        public Runnable getListener() {
            // Î°úÏª¨ Î≥ÄÏàò Ï∫°Ï≤ò ÎåÄÏÉÅ (ÏÉÅÏàò ÏµúÏ†ÅÌôî Î∞©ÏßÄ)
            final String action = "CLICK".toLowerCase() + System.currentTimeMillis();

            // ÏùµÎ™Ö ÌÅ¥ÎûòÏä§ ÏÉùÏÑ±: Ïô∏Î∂ÄÏùò nameÍ≥º actionÏùÑ Ï∞∏Ï°∞Ìï®
            return new Runnable() {
                @Override
                public void run() {
                    System.out.println(name + " performed " + action);
                }
            };
        }
    }

    public static void main(String[] args) {
        Button btn = new Button();
        Runnable listener = btn.getListener();

        System.out.println(VM.current().details());
        System.out.println("----------------------------------\n");

        // 1. ÏùµÎ™Ö ÌÅ¥ÎûòÏä§ Ïù∏Ïä§ÌÑ¥Ïä§Ïùò Î†àÏù¥ÏïÑÏõÉ Ï∂úÎ†•
        System.out.println("=== [ÏùµÎ™Ö Runnable Í∞ùÏ≤¥Ïùò Î©îÎ™®Î¶¨ Îßµ (Heap)] ===");
        System.out.println(ClassLayout.parseInstance(listener).toPrintable());

        // 2. Ïô∏Î∂Ä ÌÅ¥ÎûòÏä§ Ï∞∏Ï°∞ ÌïÑÎìú(this$0) Ï°¥Ïû¨ ÌôïÏù∏ ÏïàÎÇ¥
        System.out.println("Î†àÏù¥ÏïÑÏõÉ ÎÇ¥Î∂ÄÏùò 'this$0'Îäî Button Ïù∏Ïä§ÌÑ¥Ïä§Î•º, ");
        System.out.println("'val$action'ÏùÄ Î°úÏª¨ Î≥ÄÏàò actionÏùÑ Í∞ÄÎ¶¨ÌÇ§Îäî Ïà®Í≤®ÏßÑ ÌïÑÎìúÏûÖÎãàÎã§.");
    }
}
```

Í∞úÎ∞úÏûê ÎààÏóêÎäî Î©îÏÑúÎìúÎßå Ï†ïÏùòÎêú Í≤ÉÏ≤òÎüº Î≥¥Ïù¥ÏßÄÎßå, Ïª¥ÌååÏùºÎêú Î∞îÏù¥Ìä∏ÏΩîÎìúÏôÄ Ïã§Ï†ú Ìûô Î©îÎ™®Î¶¨ Î†àÏù¥ÏïÑÏõÉÏùÄ Ï†ÑÌòÄ Îã§Î•∏ Ïù¥ÏïºÍ∏∞Î•º Ìï©ÎãàÎã§.

1. **Ìï©ÏÑ± ÌïÑÎìúÏùò Í∞ïÏ†ú ÏÇΩÏûÖ**: Ïô∏Î∂Ä ÌÅ¥ÎûòÏä§Ïùò Ïù∏Ïä§ÌÑ¥Ïä§ Î©§Î≤ÑÏóê Ï†ëÍ∑ºÌïòÍ∏∞ ÏúÑÌï¥, Ïª¥ÌååÏùºÎü¨Îäî ÏùµÎ™Ö ÌÅ¥ÎûòÏä§ ÎÇ¥Î∂ÄÏóê Ïô∏Î∂Ä ÌÅ¥ÎûòÏä§Ïùò Ï£ºÏÜåÎ•º Îã¥ÏùÑ `final` Ï∞∏Ï°∞ ÌïÑÎìúÎ•º ÏÉùÏÑ±Ìï©ÎãàÎã§. Ïù¥Î•º Í¥ÄÎ°ÄÏ†ÅÏúºÎ°ú **`this$0`**ÎùºÍ≥† Î∂ÄÎ•¥Î©∞, Ïù¥ ÌïÑÎìúÍ∞Ä Ï°¥Ïû¨ÌïòÎäî Ìïú ÏùµÎ™Ö Í∞ùÏ≤¥Îäî ÏûêÏã†ÏùÑ ÏÉùÏÑ±Ìïú Ïô∏Î∂Ä Í∞ùÏ≤¥ÏôÄ Î¨ºÎ¶¨Ï†ÅÏúºÎ°ú Ïó∞Í≤∞Îê©ÎãàÎã§.
2. **Î†àÏù¥ÏïÑÏõÉÏùò ÎπÑÎåÄÌôî**: `Runnable` Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Î•º Íµ¨ÌòÑÌïú ÏùµÎ™Ö Í∞ùÏ≤¥Îäî ÎÇ¥Î∂ÄÏóê ÏÑ†Ïñ∏Îêú Îç∞Ïù¥ÌÑ∞ ÌïÑÎìúÍ∞Ä ÏóÜÏúºÎØÄÎ°ú 12Î∞îÏù¥Ìä∏(Ìó§Îçî)Ïó¨Ïïº Ìï† Í≤É Í∞ôÏßÄÎßå, Ïã§Ï†úÎ°úÎäî `this$0` ÌïÑÎìúÍ∞Ä 4Î∞îÏù¥Ìä∏(Compressed OOPs Í∏∞Ï§Ä)Î•º Ï∞®ÏßÄÌïòÏó¨ Ï¥ù **16Î∞îÏù¥Ìä∏**Ïùò Ïù∏Ïä§ÌÑ¥Ïä§Í∞Ä Îê©ÎãàÎã§.
3. **Î≥ÄÏàò Ï∫°Ï≤ò(Variable Capture)ÏôÄ ÏÉÅÏàò ÏµúÏ†ÅÌôî**:
* Î©îÏÑúÎìú ÎÇ¥Ïùò Î°úÏª¨ Î≥ÄÏàòÎ•º Ï∞∏Ï°∞Ìï† Í≤ΩÏö∞, Í∑∏ Í∞íÏùÑ Î≥µÏÇ¨Ìï¥ ÎëêÍ∏∞ ÏúÑÌïú Î≥ÑÎèÑÏùò ÌïÑÎìú(**`val$variableName`**)Í∞Ä Ï∂îÍ∞ÄÎ°ú ÏÉùÏÑ±ÎêòÏñ¥ Î©îÎ™®Î¶¨Î•º ÎçîÏö± Ï†êÏú†Ìï©ÎãàÎã§.
* Îã®, Ï∞∏Ï°∞ÌïòÎäî Î≥ÄÏàòÍ∞Ä `final`Ïù¥Í±∞ÎÇò Ïã§ÏßàÏ†Å `final`Ïù¥Î©¥ÏÑú Ïª¥ÌååÏùº ÌÉÄÏûÑÏóê Í∞íÏùÑ Ïïå Ïàò ÏûàÎäî **'ÏÉÅÏàò'**Ïù∏ Í≤ΩÏö∞, Ïª¥ÌååÏùºÎü¨Îäî ÌïÑÎìúÎ•º ÎßåÎìúÎäî ÎåÄÏã† Í∞íÏùÑ ÏßÅÏ†ë ÏπòÌôò(Substitution)ÌïòÏó¨ Ìï¥Îãπ ÌïÑÎìúÎ•º ÏÉùÎûµÌïòÍ∏∞ÎèÑ Ìï©ÎãàÎã§.
* Îü∞ÌÉÄÏûÑÏóê Í≤∞Ï†ïÎêòÎäî ÎèôÏ†ÅÏù∏ Í∞íÏùÑ Ï∫°Ï≤òÌï† ÎïåÎßå ÎπÑÎ°úÏÜå `val$` ÌïÑÎìúÍ∞Ä Î©îÎ™®Î¶¨ Î†àÏù¥ÏïÑÏõÉÏóê Î™ÖÌôïÌûà ÎìúÎü¨ÎÇòÎ©∞ Í∞ùÏ≤¥ ÌÅ¨Í∏∞Î•º ÌÇ§Ïö∞Í≤å Îê©ÎãàÎã§.

Ïù¥ Î©îÏª§ÎãàÏ¶òÏùÄ Îã®ÏàúÌïú Î©îÎ™®Î¶¨ Ï†êÏú† Ïù¥ÏÉÅÏùò Î¨∏Ï†úÎ•º ÏïºÍ∏∞Ìï©ÎãàÎã§. ÏùµÎ™Ö ÌÅ¥ÎûòÏä§ Ïù∏Ïä§ÌÑ¥Ïä§Í∞Ä Ïñ¥ÎîòÍ∞Ä(Ïòà: Ïù¥Î≤§Ìä∏ ÌÅê, Ï∫êÏãú)Ïóê ÎÇ®ÏïÑ ÏûàÎäî Ìïú, Í∑∏ Ïù∏Ïä§ÌÑ¥Ïä§Í∞Ä Í∞ÄÏßÑ `this$0` ÌïÑÎìú ÎïåÎ¨∏Ïóê Ïô∏Î∂Ä ÌÅ¥ÎûòÏä§ Ïù∏Ïä§ÌÑ¥Ïä§ Ïó≠Ïãú Í∞ÄÎπÑÏßÄ Ïª¨Î†âÌÑ∞(GC)Ïóê ÏùòÌï¥ ÏàòÍ±∞ÎêòÏßÄ Î™ªÌï©ÎãàÎã§. ÏÜåÏä§ ÏΩîÎìúÏóêÎäî Î™ÖÏãúÎêòÏßÄ ÏïäÏùÄ Ïù¥ **'Î¨ºÎ¶¨Ï†Å Ï∞∏Ï°∞'**Í∞Ä ÏûêÎ∞î Î©îÎ™®Î¶¨ ÎàÑÏàòÏùò Í∞ÄÏû• ÌùîÌïú ÏïÑÌÇ§ÌÖçÏ≤òÏ†Å ÏõêÏù∏ÏûÖÎãàÎã§.

ÎûåÎã§Ïùò Í≤ΩÏö∞, ÏÉÅÌÉúÎ•º Ï∫°Ï≤òÌïòÏßÄ ÏïäÎäî 'Stateless Lambda'ÎùºÎ©¥ Ïã±Í∏ÄÌÜ§Ï≤òÎüº Ïû¨ÏÇ¨Ïö©ÎêòÏñ¥ Ïò§Î≤ÑÌó§ÎìúÍ∞Ä Í±∞Ïùò ÏóÜÏßÄÎßå, Ïô∏Î∂Ä Î≥ÄÏàòÎ•º Ï∞∏Ï°∞ÌïòÎäî ÏàúÍ∞Ñ ÏùµÎ™Ö ÌÅ¥ÎûòÏä§ÏôÄ Ïú†ÏÇ¨ÌïòÍ≤å ÌûôÏóê Ïù∏Ïä§ÌÑ¥Ïä§Î•º ÏÉùÏÑ±ÌïòÍ≥† Ï∞∏Ï°∞Î•º Ï†ÄÏû•ÌïòÎäî ÎπÑÏö©ÏùÑ ÏπòÎ•¥Í≤å Îê©ÎãàÎã§. Í≤∞Íµ≠ "Ìé∏Î¶¨Ìïú Ï∂îÏÉÅÌôî" Îí§ÏóêÎäî Ìï≠ÏÉÅ "Íµ¨Ï≤¥Ï†ÅÏù∏ Î∞îÏù¥Ìä∏Ïùò ÎπÑÏö©"Ïù¥ Ïà®Ïñ¥ ÏûàÎäî ÏÖàÏûÖÎãàÎã§.

## Summary

JVM Ïù∏Ïä§ÌÑ¥Ïä§Ïùò Î∞îÏù¥ÎÑàÎ¶¨ Î†àÏù¥ÏïÑÏõÉÏùÄ Í≥†ÏàòÏ§ÄÏùò Í∞ùÏ≤¥ ÏßÄÌñ• Ï∂îÏÉÅÌôîÏôÄ Ï†ÄÏàòÏ§ÄÏùò ÌïòÎìúÏõ®Ïñ¥ Ìö®Ïú®ÏÑ± ÏÇ¨Ïù¥ÏóêÏÑú ÌÉÄÌòëÌïú Ï†ïÍµêÌïú Í≥µÌïôÏùò Í≤∞Í≥ºÎ¨ºÏûÖÎãàÎã§. Ïö∞Î¶¨Îäî ÎπÑÌä∏ Îã®ÏúÑÎ°ú ÏïïÏ∂ïÎêú Ìó§ÎçîÎ∂ÄÌÑ∞ 8Î∞îÏù¥Ìä∏ Í≤ΩÍ≥Ñ Ï†ïÎ†¨ÏùÑ ÏúÑÌïú Ìå®Îî©, Í∑∏Î¶¨Í≥† Îã§ÌòïÏÑ±ÏùÑ Îí∑Î∞õÏπ®ÌïòÎäî VTableÍ≥º ITableÏùò Î¨ºÎ¶¨Ï†Å Ïã§Ï≤¥Î•º ÌôïÏù∏ÌñàÏäµÎãàÎã§. Ïù¥Îü¨Ìïú ÌïòÎ∂Ä Î©îÏª§ÎãàÏ¶òÏùÑ Ïù¥Ìï¥ÌïòÎäî Í≤ÉÏùÄ Îã®ÏàúÌïú ÏßÄÏãùÏùÑ ÎÑòÏñ¥, Î©îÎ™®Î¶¨ ÎàÑÏàòÎ•º Î∞©ÏßÄÌïòÍ≥† CPU Ï∫êÏãú Ìö®Ïú®ÏùÑ Í∑πÎåÄÌôîÌïòÎäî Í≥†ÏÑ±Îä• ÏãúÏä§ÌÖú ÏÑ§Í≥ÑÏùò ÌÜ†ÎåÄÍ∞Ä Îê©ÎãàÎã§. Í≤∞Íµ≠ ÏûêÎ∞î Í∞ùÏ≤¥Îäî ÎÖºÎ¶¨Ï†Å Í∞úÎÖêÏù¥Í∏∞ Ïù¥Ï†ÑÏóê, JVM ÏïÑÌÇ§ÌÖçÏ≤òÍ∞Ä ÌïòÎìúÏõ®Ïñ¥ ÏÑ±Îä•ÏùÑ ÎÅåÏñ¥ÎÇ¥Í∏∞ ÏúÑÌï¥ ÏÑ§Í≥ÑÌïú Í∞ÄÏû• ÏµúÏ†ÅÌôîÎêú Îç∞Ïù¥ÌÑ∞ Î∏îÎ°ùÏûÖÎãàÎã§.

## References

* [[OpenJDK] JOL (Java Object Layout) Project](https://openjdk.org/projects/code-tools/jol/)
* [[Aleksey Shipil√´v] JVM Anatomy Quarks](https://shipilev.net/jvm/anatomy-quarks/)
* [[Oracle] Java Virtual Machine Specification](https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-2.html)
* [[Baeldung] Guide to JOL](https://www.baeldung.com/java-memory-layout)